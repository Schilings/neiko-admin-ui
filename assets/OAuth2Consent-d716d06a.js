import{b as f}from"./vue-router-ecc405fe.js";import{u as v}from"./index-d8cf9b9f.js";import{d as y,R as k,o as c,a6 as a,a7 as t,ac as i,u as s,a5 as o,F as d,ak as g}from"./runtime-core.esm-bundler-e620233b.js";import"./_commonjsHelpers-c45321e7.js";import"./constants-2bea6948.js";import"./index-4b83e0fe.js";import"./index-cf5fb184.js";import"./useConfigInject-4e7e38f3.js";import"./AntdIcon-50c809c3.js";import"./wave-9bd9da2d.js";import"./KeyCode-e7009ae3.js";import"./styleChecker-cd40cf0f.js";import"./pickAttrs-a6ea96de.js";import"./index-b25e5e27.js";const w=t("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css",integrity:"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z",crossorigin:"anonymous"},null,-1),x={class:"container"},q=t("div",{class:"py-5"},[t("h1",{class:"text-center"},"Consent required")],-1),C={class:"row"},N={class:"col text-center"},S={class:"font-weight-bold text-primary"},T={class:"font-weight-bold"},V=t("div",{class:"row pb-3"},[t("div",{class:"col text-center"},[t("p",null,[o(" The following permissions are requested by the above app."),t("br"),o("Please review these and consent if you approve. ")])])],-1),B={class:"row"},J={class:"col text-center"},L={name:"consent_form",method:"post",action:"/api/oauth2/authorize"},P=["value"],R=["value"],A=["value"],D=["id","value"],F=["for"],G=t("div",{class:"form-group pt-3"},[t("button",{id:"submit-consent",class:"btn btn-primary btn-lg",type:"submit"}," Submit Consent ")],-1),K=t("div",{class:"form-group"},[t("button",{id:"cancel-consent",class:"btn btn-link regular",type:"button"},"Cancel")],-1),O=t("div",{class:"row pt-4"},[t("div",{class:"col text-center"},[t("p",null,[t("small",null,[o("Your consent to provide access is required."),t("br"),o("If you do not approve, click Cancel, in which case no information will be shared with the app.")])])])],-1),U={name:"OAuth2Consent"},at=y({...U,setup(Z){const r=v(),_=r.userInfo,h=r.accessToken,n=f().query,l=n.client_id,m=n.state,u=n.scope,b=k(u?u.split(" "):[]);return(z,E)=>{var p;return c(),a(d,null,[w,t("div",x,[q,t("div",C,[t("div",N,[t("p",null,[t("span",S,i(s(l)),1),o(" wants to access your account "),t("span",T,i((p=s(_))==null?void 0:p.username),1)])])]),V,t("div",B,[t("div",J,[t("form",L,[t("input",{type:"hidden",name:"access_token",value:s(h)},null,8,P),t("input",{type:"hidden",name:"client_id",value:s(l)},null,8,R),t("input",{type:"hidden",name:"state",value:s(m)},null,8,A),(c(!0),a(d,null,g(s(b),e=>(c(),a("div",{key:e,class:"form-group form-check py-1"},[t("input",{id:e,class:"form-check-input",type:"checkbox",name:"scope",value:e},null,8,D),t("label",{class:"form-check-label",for:e},i(e),9,F)]))),128)),G,K])])]),O])],64)}}});export{at as default};
