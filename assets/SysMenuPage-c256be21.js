/* empty css                *//* empty css              */import{B as z}from"./index-cf5fb184.js";import{_ as L}from"./index-4948e659.js";import{D as O}from"./index-4e866bcb.js";import{_ as W}from"./DictText.vue_vue_type_script_setup_true_lang-4940ac47.js";import"./index-51c9200e.js";import{P as G}from"./Table-804cc6fe.js";import{u as H}from"./permission-a42399ff.js";import{f as J,l as Q,m as X,p as Y,i as Z}from"./index-d8cf9b9f.js";import{A as tt}from"./index-abee35aa.js";import{_ as et}from"./SysMenuPageSearch.vue_vue_type_script_setup_true_lang-119f6609.js";import{_ as ot}from"./SysMenuFormModal.vue_vue_type_script_setup_true_lang-41cbb11e.js";import{F as M}from"./form-d9144801.js";import{d as it}from"./request-b908f567.js";import{d as rt,R as l,o,a6 as d,a as n,u as m,W as B,w as p,a1 as x,c as u,a5 as _,F as k,ad as w,a7 as P,ac as D,aj as at}from"./runtime-core.esm-bundler-e620233b.js";import{_ as nt}from"./PlusOutlined-6c7b8f6a.js";import{T as mt}from"./index-78dc20df.js";import"./useConfigInject-4e7e38f3.js";import"./AntdIcon-50c809c3.js";import"./wave-9bd9da2d.js";import"./index-b25e5e27.js";import"./useMergedState-49e4ba80.js";import"./KeyCode-e7009ae3.js";import"./isEqual-0db96e75.js";import"./isObject-df4d31a6.js";import"./vnode-695e877b.js";import"./index-86e42ee6.js";import"./styleChecker-cd40cf0f.js";import"./useDict-c41ad46e.js";import"./dict-store-bf3c0a09.js";import"./constants-2bea6948.js";import"./index-f15f5a85.js";import"./index-4b83e0fe.js";import"./types-d2ada5d8.js";import"./debounce-ec6630b4.js";import"./index-5a8c2e19.js";import"./index-c9d35858.js";import"./isMobile-8885869a.js";import"./collapseMotion-49c35061.js";import"./useState-6ab94c07.js";import"./VerticalAlignMiddleOutlined-1fbd9b6a.js";import"./index-fd0b6746.js";import"./iconUtil-13917c84.js";import"./toArray-03f06280.js";import"./FormItemContext-d1513cce.js";import"./pickAttrs-a6ea96de.js";import"./List-f67cc211.js";import"./DownOutlined-1df0e7ad.js";import"./SearchOutlined-2febc2d4.js";import"./useMemo-4a215623.js";import"./index-64985671.js";import"./zh_CN-1ca40490.js";import"./index-a6c0766c.js";import"./RouteContext-d0ba1c8a.js";import"./index-da51896f.js";/* empty css              */import"./index-daa4fc82.js";import"./iconUtil-00aaf9c6.js";import"./CaretDownFilled-5dd372a5.js";import"./FolderOutlined-b28123ef.js";import"./index-54e1cd75.js";import"./index-d551a8fd.js";import"./Checkbox-e087e583.js";import"./index-6d8533be.js";import"./index-e1aeaf6d.js";import"./index-4f3b583f.js";import"./TextArea-c870182f.js";import"./index-af58b3ad.js";import"./Spin-99a3053a.js";import"./index-2ae081eb.js";import"./RadioButton-65a1cb88.js";import"./index-bd4b6c28.js";import"./Search-cfb19401.js";import"./Password-b11b167b.js";import"./EyeInvisibleOutlined-44fbb38d.js";import"./array-utils-d1025e0b.js";import"./vue-router-ecc405fe.js";import"./_commonjsHelpers-c45321e7.js";import"./WeiboOutlined-e3ec1835.js";import"./UploadOutlined-6944ab30.js";import"./SwapRightOutlined-01ac0855.js";import"./InteractionOutlined-90a107b4.js";import"./CopyrightOutlined-8221f73c.js";import"./HighlightTwoTone-f2fdd1f8.js";import"./UserOutlined-0a7e4fb9.js";import"./MobileOutlined-456992d8.js";import"./MinusCircleOutlined-ca305951.js";import"./UpOutlined-2842b6e3.js";import"./WarningFilled-f6b98a0a.js";import"./index-dd4d7eb0.js";import"./index-38730972.js";import"./SearchActions.vue_vue_type_script_setup_true_lang-29f17459.js";/* empty css              *//* empty css              *//* empty css              */import"./index-5d5b84ea.js";import"./DictRadioGroup.vue_vue_type_script_setup_true_lang-1f34ae93.js";import"./index-d825368e.js";import"./modal-94b635e5.js";import"./bean-utils-948c4eb4.js";const st=["onClick"],pt=["onClick"],lt=P("a",{href:"javascript:",class:"ballcat-text-danger"},"删除",-1),dt={name:"SysMenuPage"},mo=rt({...dt,setup(ct){const{hasPermission:A}=H(),f=l(),y=l(),c=l(),b=l([]),s=l(""),g=t=>{const e=t.title;return s.value?e.indexOf(s.value)>-1:!0};let T={};const F=async()=>{const t=await J({...T});if(t!=null&&t.data){const e=t.data;b.value=e;const a=Q(e,0);return s.value&&(c.value=X(a,g)),{data:{records:Y(a,g)}}}return[]},h=t=>{var e,a;(a=(e=f.value)==null?void 0:e.actionRef)==null||a.reload(t)},S=t=>{T=t,h(!0)},C=t=>{y.value.open(M.CREATE,t)},$=t=>{y.value.open(M.UPDATE,t)},E=t=>{it(Z(t.id),{successMessage:"删除成功！",onSuccess:()=>h()})},N=[{title:"ID",dataIndex:"id",width:80},{title:"菜单名称",dataIndex:"title",width:200,ellipsis:!0},{title:"权限标识",dataIndex:"permission",width:150,ellipsis:!0},{title:"路由地址",dataIndex:"path",width:120,ellipsis:!0},{title:"资源路径",dataIndex:"uri",width:180,ellipsis:!0},{title:"排序",dataIndex:"sort",width:50},{title:"可见",dataIndex:"hidden",width:50},{title:"创建时间",dataIndex:"createTime",width:150},{key:"operate",title:"操作",align:"center",width:150,fixed:"right"}];return(t,e)=>{var R;const a=nt,U=z,V=mt,q=W,I=O,j=L,v=at("has");return o(),d(k,null,[n(et,{"search-title":m(s),"onUpdate:search-title":e[0]||(e[0]=i=>B(s)?s.value=i:null),loading:(R=m(f))==null?void 0:R.loading,onSearch:S},null,8,["search-title","loading"]),n(m(G),{ref_key:"tableRef",ref:f,"expanded-row-keys":m(c),"onUpdate:expanded-row-keys":e[2]||(e[2]=i=>B(c)?c.value=i:null),"header-title":"菜单权限","row-key":"id",request:F,columns:N,"expand-icon-column-index":1,pagination:!1,scroll:{x:1100},"table-class-name":"menu-tree-table"},{toolBarRender:p(()=>[x((o(),u(U,{type:"primary",onClick:e[1]||(e[1]=i=>C())},{default:p(()=>[n(a),_("新建 ")]),_:1})),[[v,"system:role:add"]])]),bodyCell:p(({column:i,record:r})=>[i.key==="title"?(o(),d(k,{key:0},[r.icon?(o(),u(m(tt),{key:0,type:r.icon,style:{"margin-right":"6px"}},null,8,["type"])):w("",!0),n(V,{placement:"top"},{title:p(()=>[P("span",null,D(r.title),1)]),default:p(()=>[_(" "+D(r.title),1)]),_:2},1024)],64)):i.key==="hidden"?(o(),u(q,{key:1,"dict-code":"yes_or_no",value:r.hidden?0:1},null,8,["value"])):i.key==="operate"?(o(),d(k,{key:2},[x((o(),d("a",{onClick:K=>C(r)},[_("添加")],8,st)),[[v,"system:menu:add"]]),n(I,{type:"vertical"}),x((o(),d("a",{onClick:K=>$(r)},[_("修改")],8,pt)),[[v,"system:menu:edit"]]),n(I,{type:"vertical"}),m(A)("system:menu:del")?(o(),u(j,{key:0,title:"确认要删除吗？",onConfirm:()=>E(r)},{default:p(()=>[lt]),_:2},1032,["onConfirm"])):w("",!0)],64)):w("",!0)]),_:1},8,["expanded-row-keys"]),n(ot,{ref_key:"sysMenuFormModalRef",ref:y,"menu-list":m(b),onSubmitSuccess:h},null,8,["menu-list"])],64)}}});export{mo as default};
