/* empty css                */import"./index-64985671.js";/* empty css              */import{B as nt}from"./index-cf5fb184.js";import{_ as ar}from"./index-4948e659.js";/* empty css              */import{u as rr}from"./useDict-c41ad46e.js";import{B as nr}from"./index-5062f37f.js";import{d as Z,a as p,K as X,F as ba,R as V,l as ir,O as Ve,a0 as _a,a1 as lt,S as or,x as sr,ae as lr,o as K,c as ee,an as cr,u as W,N as ur,a6 as Ft,a7 as se,aa as Ca,m as dr,_ as fr,w as F,ad as De,a5 as ze,a8 as hr,a9 as pr,ac as vr,aj as mr}from"./runtime-core.esm-bundler-e620233b.js";import{_ as gr}from"./DictText.vue_vue_type_script_setup_true_lang-4940ac47.js";import{A as Ee,f as Vt}from"./file-utils-a47521b9.js";import{_ as xa}from"./index-da51896f.js";import{a as yr,D as wr}from"./index-5a8c2e19.js";import{m as br}from"./index-51c9200e.js";import{C as _r}from"./index-dd4d7eb0.js";import{u as Cr,_ as xr,M as Dr}from"./index-c9d35858.js";import{j as Ge,a as $,J as kr,w as Da,_ as O,H as Nt,P as pt,x as je,k as Ae,i as qe,f as xt,A as Ir,l as Sr,z as Pr,F as Rr,b as Xe,S as it,e as ka,g as Mr,T as Er,v as Bt,V as Tr,W as Or,G as Ar,L as Gt,K as Fr,u as Nr,U as Br,h as vt,p as Lr,t as Ze,D as qt}from"./useConfigInject-4e7e38f3.js";import{P as Ur}from"./Table-804cc6fe.js";import{R as zr}from"./index-86e42ee6.js";import{p as $r,r as jr,b as Wr,d as Xr}from"./index-9e9c8e3e.js";/* empty css              */import{u as Hr}from"./modal-94b635e5.js";import{c as Ia,D as Yr,d as Vr,F as Gr,P as qr,j as Kr,k as Zr,A as Qr,a as Jr,b as en,_ as tn,e as an,f as rn,g as nn,h as on,i as sn}from"./UploadOutlined-6944ab30.js";import{b as ln}from"./index-b25e5e27.js";import{k as cn,d as un,o as dn,_ as Sa}from"./isEqual-0db96e75.js";import{p as fn}from"./pickAttrs-a6ea96de.js";import{b as hn}from"./index-e1aeaf6d.js";import{E as pn}from"./EyeInvisibleOutlined-44fbb38d.js";import{T as vn}from"./index-78dc20df.js";import{C as mn}from"./iconUtil-13917c84.js";import{p as Dt}from"./AntdIcon-50c809c3.js";import{c as gn}from"./collapseMotion-49c35061.js";import{u as yn}from"./useMergedState-49e4ba80.js";import"./index-8e2bad18.js";import{u as wn}from"./FormItemContext-d1513cce.js";import{a as Pa,_ as Ra}from"./index-a6c0766c.js";import{M as bn,u as _n}from"./index-d8cf9b9f.js";import{_ as Cn}from"./_plugin-vue_export-helper-c27b6911.js";import xn from"./SysOrganizationSearchTree-40b218fd.js";import{_ as Dn}from"./SysUserPageSearch.vue_vue_type_script_setup_true_lang-f4e9afb7.js";import{m as kn}from"./page-utils-8286cd0a.js";import{u as In}from"./permission-a42399ff.js";import{_ as Sn}from"./SysUserScopeModal.vue_vue_type_script_setup_true_lang-b7cc7553.js";import{_ as Pn}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-50f4b682.js";import{_ as Rn}from"./SysUserFormModal.vue_vue_type_script_setup_true_lang-350ac3f3.js";import{F as Kt}from"./form-d9144801.js";import{d as Zt}from"./request-b908f567.js";import{c as Mn}from"./vnode-695e877b.js";import{_ as En}from"./index-54e1cd75.js";import{D as Tn}from"./DownOutlined-1df0e7ad.js";import{a as On,_ as An}from"./UserOutlined-0a7e4fb9.js";import{_ as Fn}from"./PlusOutlined-6c7b8f6a.js";import"./styleChecker-cd40cf0f.js";import"./wave-9bd9da2d.js";import"./KeyCode-e7009ae3.js";import"./dict-store-bf3c0a09.js";import"./constants-2bea6948.js";import"./index-f15f5a85.js";import"./index-4b83e0fe.js";import"./types-d2ada5d8.js";import"./isNumeric-3f69e2aa.js";import"./CaretDownFilled-5dd372a5.js";import"./VerticalAlignMiddleOutlined-1fbd9b6a.js";import"./index-fd0b6746.js";import"./List-f67cc211.js";import"./useMemo-4a215623.js";import"./useState-6ab94c07.js";import"./zh_CN-1ca40490.js";import"./debounce-ec6630b4.js";import"./isObject-df4d31a6.js";import"./index-38730972.js";import"./index-4f3b583f.js";import"./isMobile-8885869a.js";import"./RouteContext-d0ba1c8a.js";/* empty css              */import"./index-daa4fc82.js";import"./iconUtil-00aaf9c6.js";import"./FolderOutlined-b28123ef.js";import"./index-d551a8fd.js";import"./Checkbox-e087e583.js";import"./index-6d8533be.js";import"./TextArea-c870182f.js";import"./index-af58b3ad.js";import"./Spin-99a3053a.js";import"./toArray-03f06280.js";import"./index-2ae081eb.js";import"./RadioButton-65a1cb88.js";import"./SearchOutlined-2febc2d4.js";import"./index-bd4b6c28.js";import"./Search-cfb19401.js";import"./Password-b11b167b.js";import"./vue-router-ecc405fe.js";import"./_commonjsHelpers-c45321e7.js";import"./index-8c05ae55.js";import"./SearchActions.vue_vue_type_script_setup_true_lang-29f17459.js";import"./UpOutlined-2842b6e3.js";import"./index-5d5b84ea.js";import"./DictSelect.vue_vue_type_script_setup_true_lang-d0477fec.js";/* empty css              *//* empty css              *//* empty css              *//* empty css                                                                */import"./array-utils-d1025e0b.js";/* empty css              */import"./SysRoleSelect.vue_vue_type_script_setup_true_lang-19aecfea.js";import"./index-2012180d.js";import"./password-utils-4722705d.js";import"./index-7ca0d04e.js";import"./DictRadioGroup.vue_vue_type_script_setup_true_lang-1f34ae93.js";import"./SysOrganizationTreeSelect.vue_vue_type_script_setup_true_lang-e554d1d9.js";import"./index-d825368e.js";import"./bean-utils-948c4eb4.js";var Nn=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},Bn=Z({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Nn(),setup:function(e,a){var t=a.slots,i=a.attrs,r=Ge("avatar-group",e),o=r.prefixCls,s=r.direction;return br(e),function(){var f,l=e.maxPopoverPlacement,d=l===void 0?"top":l,c=e.maxCount,u=e.maxStyle,g=e.maxPopoverTrigger,b=g===void 0?"hover":g,v=(f={},$(f,o.value,!0),$(f,"".concat(o.value,"-rtl"),s.value==="rtl"),$(f,"".concat(i.class),!!i.class),f),m=kr(t,e),D=Da(m).map(function(C,h){return Mn(C,{key:"avatar-key-".concat(h)})}),x=D.length;if(c&&c<x){var k=D.slice(0,c),y=D.slice(c,x);return k.push(p(En,{key:"avatar-popover-key",content:y,trigger:b,placement:d,overlayClassName:"".concat(o.value,"-popover")},{default:function(){return[p(Ee,{style:u},{default:function(){return["+".concat(x-c)]}})]}})),p("div",O(O({},i),{},{class:v,style:i.style}),[k])}return p("div",O(O({},i),{},{class:v,style:i.style}),[D])}}});const kt=Bn;Ee.Group=kt;Ee.install=function(n){return n.component(Ee.name,Ee),n.component(kt.name,kt),n};var Ma=Nt("normal","exception","active","success"),Ln=Nt("line","circle","dashboard"),Un=Nt("default","small"),ct=function(){return{prefixCls:String,type:pt.oneOf(Ln),percent:Number,format:{type:Function},status:pt.oneOf(Ma),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:pt.oneOf(Un),steps:Number,successPercent:Number,title:String}};function ke(n){return!n||n<0?0:n>100?100:n}function ot(n){var e=n.success,a=n.successPercent,t=a;return e&&"progress"in e&&(je(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var zn=["from","to","direction"],$n=function(){return O(O({},ct()),{},{prefixCls:String,direction:{type:String}})},jn=function(e){var a=[];return Object.keys(e).forEach(function(t){var i=parseFloat(t.replace(/%/g,""));isNaN(i)||a.push({key:i,value:e[t]})}),a=a.sort(function(t,i){return t.key-i.key}),a.map(function(t){var i=t.key,r=t.value;return"".concat(r," ").concat(i,"%")}).join(", ")},Wn=function(e,a){var t=e.from,i=t===void 0?Dt.blue:t,r=e.to,o=r===void 0?Dt.blue:r,s=e.direction,f=s===void 0?a==="rtl"?"to left":"to right":s,l=Ae(e,zn);if(Object.keys(l).length!==0){var d=jn(l);return{backgroundImage:"linear-gradient(".concat(f,", ").concat(d,")")}}return{backgroundImage:"linear-gradient(".concat(f,", ").concat(i,", ").concat(o,")")}};const Xn=Z({compatConfig:{MODE:3},name:"Line",props:$n(),setup:function(e,a){var t=a.slots,i=X(function(){var l=e.strokeColor,d=e.direction;return l&&typeof l!="string"?Wn(l,d):{background:l}}),r=X(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),o=X(function(){var l=e.percent,d=e.strokeWidth,c=e.strokeLinecap,u=e.size;return O({width:"".concat(ke(l),"%"),height:"".concat(d||(u==="small"?6:8),"px"),borderRadius:c==="square"?0:""},i.value)}),s=X(function(){return ot(e)}),f=X(function(){var l=e.strokeWidth,d=e.size,c=e.strokeLinecap,u=e.success;return{width:"".concat(ke(s.value),"%"),height:"".concat(l||(d==="small"?6:8),"px"),borderRadius:c==="square"?0:"",backgroundColor:u==null?void 0:u.strokeColor}});return function(){var l;return p(ba,null,[p("div",{class:"".concat(e.prefixCls,"-outer")},[p("div",{class:"".concat(e.prefixCls,"-inner"),style:r.value},[p("div",{class:"".concat(e.prefixCls,"-bg"),style:o.value},null),s.value!==void 0?p("div",{class:"".concat(e.prefixCls,"-success-bg"),style:f.value},null):null])]),(l=t.default)===null||l===void 0?void 0:l.call(t)])}}});var Hn={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},Yn=function(e){var a=V(null);return ir(function(){var t=Date.now(),i=!1;e.value.forEach(function(r){var o=(r==null?void 0:r.$el)||r;if(o){i=!0;var s=o.style;s.transitionDuration=".3s, .3s, .3s, .06s",a.value&&t-a.value<100&&(s.transitionDuration="0s, 0s")}}),i&&(a.value=Date.now())}),e},Vn={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},Gn=["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"],Qt=0;function Jt(n){return+n.replace("%","")}function ea(n){return Array.isArray(n)?n:[n]}function ta(n,e,a,t){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,o=50-t/2,s=0,f=-o,l=0,d=-2*o;switch(r){case"left":s=-o,f=0,l=2*o,d=0;break;case"right":s=o,f=0,l=-2*o,d=0;break;case"bottom":f=o,d=2*o;break}var c="M 50,50 m ".concat(s,",").concat(f,`
   a `).concat(o,",").concat(o," 0 1 1 ").concat(l,",").concat(-d,`
   a `).concat(o,",").concat(o," 0 1 1 ").concat(-l,",").concat(d),u=Math.PI*2*o,g={stroke:a,strokeDasharray:"".concat(e/100*(u-i),"px ").concat(u,"px"),strokeDashoffset:"-".concat(i/2+n/100*(u-i),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:c,pathStyle:g}}const qn=Z({compatConfig:{MODE:3},name:"VCCircle",props:qe(Vn,Hn),setup:function(e){Qt+=1;var a=V(Qt),t=X(function(){return ea(e.percent)}),i=X(function(){return ea(e.strokeColor)}),r=Cr(),o=xt(r,2),s=o[0],f=o[1];Yn(f);var l=function(){var c=e.prefixCls,u=e.strokeWidth,g=e.strokeLinecap,b=e.gapDegree,v=e.gapPosition,m=0;return t.value.map(function(D,x){var k=i.value[x]||i.value[i.value.length-1],y=Object.prototype.toString.call(k)==="[object Object]"?"url(#".concat(c,"-gradient-").concat(a.value,")"):"",C=ta(m,D,k,u,b,v),h=C.pathString,w=C.pathStyle;m+=D;var R={key:x,d:h,stroke:y,"stroke-linecap":g,"stroke-width":u,opacity:D===0?0:1,"fill-opacity":"0",class:"".concat(c,"-circle-path"),style:w};return p("path",O({ref:s(x)},R),null)})};return function(){var d=e.prefixCls,c=e.strokeWidth,u=e.trailWidth,g=e.gapDegree,b=e.gapPosition,v=e.trailColor,m=e.strokeLinecap;e.strokeColor;var D=Ae(e,Gn),x=ta(0,100,v,c,g,b),k=x.pathString,y=x.pathStyle;delete D.percent;var C=i.value.find(function(w){return Object.prototype.toString.call(w)==="[object Object]"}),h={d:k,stroke:v,"stroke-linecap":m,"stroke-width":u||c,"fill-opacity":"0",class:"".concat(d,"-circle-trail"),style:y};return p("svg",O({class:"".concat(d,"-circle"),viewBox:"0 0 100 100"},D),[C&&p("defs",null,[p("linearGradient",{id:"".concat(d,"-gradient-").concat(a.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(C).sort(function(w,R){return Jt(w)-Jt(R)}).map(function(w,R){return p("stop",{key:R,offset:w,"stop-color":C[w]},null)})])]),p("path",h,null),l().reverse()])}}});function Kn(n){var e=n.percent,a=n.success,t=n.successPercent,i=ke(ot({success:a,successPercent:t}));return[i,ke(ke(e)-i)]}function Zn(n){var e=n.success,a=e===void 0?{}:e,t=n.strokeColor,i=a.strokeColor;return[i||Dt.green,t||null]}const Qn=Z({compatConfig:{MODE:3},name:"Circle",inheritAttrs:!1,props:ct(),setup:function(e,a){var t=a.slots,i=X(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),r=X(function(){var u=e.width||120;return{width:typeof u=="number"?"".concat(u,"px"):u,height:typeof u=="number"?"".concat(u,"px"):u,fontSize:"".concat(u*.15+6,"px")}}),o=X(function(){return e.strokeWidth||6}),s=X(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),f=X(function(){return Kn(e)}),l=X(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),d=X(function(){return Zn({success:e.success,strokeColor:e.strokeColor})}),c=X(function(){var u;return u={},$(u,"".concat(e.prefixCls,"-inner"),!0),$(u,"".concat(e.prefixCls,"-circle-gradient"),l.value),u});return function(){var u;return p("div",{class:c.value,style:r.value},[p(qn,{percent:f.value,strokeWidth:o.value,trailWidth:o.value,strokeColor:d.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:i.value,gapPosition:s.value},null),(u=t.default)===null||u===void 0?void 0:u.call(t)])}}});var Jn=function(){return O(O({},ct()),{},{steps:Number,size:{type:String},strokeColor:String,trailColor:String})};const ei=Z({compatConfig:{MODE:3},name:"Steps",props:Jn(),setup:function(e,a){var t=a.slots,i=X(function(){return Math.round(e.steps*((e.percent||0)/100))}),r=X(function(){return e.size==="small"?2:14}),o=X(function(){for(var s=e.steps,f=e.strokeWidth,l=f===void 0?8:f,d=e.strokeColor,c=e.trailColor,u=e.prefixCls,g=[],b=0;b<s;b+=1){var v,m=(v={},$(v,"".concat(u,"-steps-item"),!0),$(v,"".concat(u,"-steps-item-active"),b<=i.value-1),v);g.push(p("div",{key:b,class:m,style:{backgroundColor:b<=i.value-1?d:c,width:"".concat(r.value,"px"),height:"".concat(l,"px")}},null))}return g});return function(){var s;return p("div",{class:"".concat(e.prefixCls,"-steps-outer")},[o.value,(s=t.default)===null||s===void 0?void 0:s.call(t)])}}}),ti=Z({compatConfig:{MODE:3},name:"AProgress",props:qe(ct(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(e,a){var t=a.slots,i=Ge("progress",e),r=i.prefixCls,o=i.direction;je(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var s=X(function(){var c,u=e.type,g=e.showInfo,b=e.size,v=r.value;return c={},$(c,v,!0),$(c,"".concat(v,"-").concat(u==="dashboard"&&"circle"||u),!0),$(c,"".concat(v,"-show-info"),g),$(c,"".concat(v,"-").concat(b),b),$(c,"".concat(v,"-rtl"),o.value==="rtl"),c}),f=X(function(){var c=e.percent,u=c===void 0?0:c,g=ot(e);return parseInt(g!==void 0?g.toString():u.toString(),10)}),l=X(function(){var c=e.status;return Ma.indexOf(c)<0&&f.value>=100?"success":c||"normal"}),d=function(){var u=e.showInfo,g=e.format,b=e.type,v=e.percent,m=e.title,D=ot(e);if(!u)return null;var x,k=g||(t==null?void 0:t.format)||function(C){return"".concat(C,"%")},y=b==="line";return g||t!=null&&t.format||l.value!=="exception"&&l.value!=="success"?x=k(ke(v),ke(D)):l.value==="exception"?x=y?p(Ir,null,null):p(Sr,null,null):l.value==="success"&&(x=y?p(Pr,null,null):p(mn,null,null)),p("span",{class:"".concat(r.value,"-text"),title:m===void 0&&typeof x=="string"?x:void 0},[x])};return function(){var c=e.type,u=e.steps,g=e.strokeColor,b=e.title,v=d(),m;c==="line"?m=u?p(ei,O(O({},e),{},{strokeColor:typeof g=="string"?g:void 0,prefixCls:r.value,steps:u}),{default:function(){return[v]}}):p(Xn,O(O({},e),{},{prefixCls:r.value}),{default:function(){return[v]}}):(c==="circle"||c==="dashboard")&&(m=p(Qn,O(O({},e),{},{prefixCls:r.value}),{default:function(){return[v]}}));var D=O(O({},s.value),{},$({},"".concat(r.value,"-status-").concat(l.value),!0));return p("div",{class:D,title:b},[m])}}}),ai=Rr(ti);function ri(n,e){var a="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),t=new Error(a);return t.status=e.status,t.method=n.method,t.url=n.action,t}function aa(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function ni(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(r){r.total>0&&(r.percent=r.loaded/r.total*100),n.onProgress(r)});var a=new FormData;n.data&&Object.keys(n.data).forEach(function(i){var r=n.data[i];if(Array.isArray(r)){r.forEach(function(o){a.append("".concat(i,"[]"),o)});return}a.append(i,r)}),n.file instanceof Blob?a.append(n.filename,n.file,n.file.name):a.append(n.filename,n.file),e.onerror=function(r){n.onError(r)},e.onload=function(){return e.status<200||e.status>=300?n.onError(ri(n,e),aa(e)):n.onSuccess(aa(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var t=n.headers||{};return t["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(t).forEach(function(i){t[i]!==null&&e.setRequestHeader(i,t[i])}),e.send(a),{abort:function(){e.abort()}}}var ii=+new Date,oi=0;function mt(){return"vc-upload-".concat(ii,"-").concat(++oi)}const gt=function(n,e){if(n&&e){var a=Array.isArray(e)?e:e.split(","),t=n.name||"",i=n.type||"",r=i.replace(/\/.*$/,"");return a.some(function(o){var s=o.trim();if(/^\*(\/\*)?$/.test(o))return!0;if(s.charAt(0)==="."){var f=t.toLowerCase(),l=s.toLowerCase(),d=[l];return(l===".jpg"||l===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(c){return f.endsWith(c)})}return/\/\*$/.test(s)?r===s.replace(/\/.*$/,""):!!(i===s||/^\w+$/.test(s))})}return!0};function si(n,e){var a=n.createReader(),t=[];function i(){a.readEntries(function(r){var o=Array.prototype.slice.apply(r);t=t.concat(o);var s=!o.length;s?e(t):i()})}i()}var li=function(e,a,t){var i=function r(o,s){o.path=s||"",o.isFile?o.file(function(f){t(f)&&(o.fullPath&&!f.webkitRelativePath&&(Object.defineProperties(f,{webkitRelativePath:{writable:!0}}),f.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(f,{webkitRelativePath:{writable:!1}})),a([f]))}):o.isDirectory&&si(o,function(f){f.forEach(function(l){r(l,"".concat(s).concat(o.name,"/"))})})};e.forEach(function(r){i(r.webkitGetAsEntry())})};const ci=li;var Ea=function(){return{capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function}};function ui(n,e,a,t){for(var i=-1,r=n==null?0:n.length;++i<r;){var o=n[i];e(t,o,a(o),n)}return t}function di(n){return function(e,a,t){for(var i=-1,r=Object(e),o=t(e),s=o.length;s--;){var f=o[n?s:++i];if(a(r[f],f,r)===!1)break}return e}}var fi=di();const hi=fi;function pi(n,e){return n&&hi(n,e,cn)}function vi(n,e){return function(a,t){if(a==null)return a;if(!un(a))return n(a,t);for(var i=a.length,r=e?i:-1,o=Object(a);(e?r--:++r<i)&&t(o[r],r,o)!==!1;);return a}}var mi=vi(pi);const gi=mi;function yi(n,e,a,t){return gi(n,function(i,r,o){e(t,i,a(i),o)}),t}function wi(n,e){return function(a,t){var i=dn(a)?ui:yi,r=e?e():{};return i(a,n,hn(t),r)}}var bi=wi(function(n,e,a){n[a?0:1].push(e)},function(){return[[],[]]});const _i=bi;var Ci=["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"];const xi=Z({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:Ea(),setup:function(e,a){var t=a.slots,i=a.attrs,r=a.expose,o=V(mt()),s={},f=V(),l=!1,d=function(){var k=Sa(it.mark(function y(C,h){var w,R,z,A,U,N,_,S,M;return it.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(w=e.beforeUpload,R=C,!w){P.next=14;break}return P.prev=3,P.next=6,w(C,h);case 6:R=P.sent,P.next=12;break;case 9:P.prev=9,P.t0=P.catch(3),R=!1;case 12:if(R!==!1){P.next=14;break}return P.abrupt("return",{origin:C,parsedFile:null,action:null,data:null});case 14:if(z=e.action,typeof z!="function"){P.next=21;break}return P.next=18,z(C);case 18:A=P.sent,P.next=22;break;case 21:A=z;case 22:if(U=e.data,typeof U!="function"){P.next=29;break}return P.next=26,U(C);case 26:N=P.sent,P.next=30;break;case 29:N=U;case 30:return _=(ka(R)==="object"||typeof R=="string")&&R?R:C,_ instanceof File?S=_:S=new File([_],C.name,{type:C.type}),M=S,M.uid=C.uid,P.abrupt("return",{origin:C,data:N,parsedFile:M,action:A});case 35:case"end":return P.stop()}},y,null,[[3,9]])}));return function(C,h){return k.apply(this,arguments)}}(),c=function(y){var C=y.data,h=y.origin,w=y.action,R=y.parsedFile;if(l){var z=e.onStart,A=e.customRequest,U=e.name,N=e.headers,_=e.withCredentials,S=e.method,M=h.uid,E=A||ni,P={action:w,filename:U,data:C,file:R,headers:N,withCredentials:_,method:S||"post",onProgress:function(T){var I=e.onProgress;I==null||I(T,R)},onSuccess:function(T,I){var B=e.onSuccess;B==null||B(T,R,I),delete s[M]},onError:function(T,I){var B=e.onError;B==null||B(T,I,R),delete s[M]}};z(h),s[M]=E(P)}},u=function(){o.value=mt()},g=function(y){if(y){var C=y.uid?y.uid:y;s[C]&&s[C].abort&&s[C].abort(),delete s[C]}else Object.keys(s).forEach(function(h){s[h]&&s[h].abort&&s[h].abort(),delete s[h]})};Ve(function(){l=!0}),_a(function(){l=!1,g()});var b=function(y){var C=Xe(y),h=C.map(function(w){return w.uid=mt(),d(w,C)});Promise.all(h).then(function(w){var R=e.onBatchStart;R==null||R(w.map(function(z){var A=z.origin,U=z.parsedFile;return{file:A,parsedFile:U}})),w.filter(function(z){return z.parsedFile!==null}).forEach(function(z){c(z)})})},v=function(y){var C=e.accept,h=e.directory,w=y.target.files,R=Xe(w).filter(function(z){return!h||gt(z,C)});b(R),u()},m=function(y){var C=f.value;if(C){var h=e.onClick;C.click(),h&&h(y)}},D=function(y){y.key==="Enter"&&m(y)},x=function(y){var C=e.multiple;if(y.preventDefault(),y.type!=="dragover")if(e.directory)ci(Array.prototype.slice.call(y.dataTransfer.items),b,function(z){return gt(z,e.accept)});else{var h=_i(Array.prototype.slice.call(y.dataTransfer.files),function(z){return gt(z,e.accept)}),w=h[0],R=h[1];C===!1&&(w=w.slice(0,1)),b(w),R.length&&e.onReject&&e.onReject(R)}};return r({abort:g}),function(){var k,y,C=e.componentTag,h=e.prefixCls,w=e.disabled,R=e.id,z=e.multiple,A=e.accept,U=e.capture,N=e.directory,_=e.openFileDialogOnClick,S=e.onMouseenter,M=e.onMouseleave,E=Ae(e,Ci),P=(k={},$(k,h,!0),$(k,"".concat(h,"-disabled"),w),$(k,i.class,!!i.class),k),L=N?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},T=w?{}:{onClick:_?m:function(){},onKeydown:_?D:function(){},onMouseenter:S,onMouseleave:M,onDrop:x,onDragover:x,tabindex:"0"};return p(C,O(O({},T),{},{class:P,role:"button",style:i.style}),{default:function(){return[p("input",O(O(O({},fn(E,{aria:!0,data:!0})),{},{id:R,type:"file",ref:f,onClick:function(re){return re.stopPropagation()},key:o.value,style:{display:"none"},accept:A},L),{},{multiple:z,onChange:v},U!=null?{capture:U}:{}),null),(y=t.default)===null||y===void 0?void 0:y.call(t)]}})}}});function yt(){}const ra=Z({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:qe(Ea(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:yt,onError:yt,onSuccess:yt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup:function(e,a){var t=a.slots,i=a.attrs,r=a.expose,o=V(),s=function(l){var d;(d=o.value)===null||d===void 0||d.abort(l)};return r({abort:s}),function(){return p(xi,O(O(O({},e),i),{},{ref:o}),t)}}});function Ta(){return{capture:[Boolean,String],type:String,name:String,defaultFileList:Array,fileList:Array,action:[String,Function],directory:{type:Boolean,default:void 0},data:[Object,Function],method:String,headers:Object,showUploadList:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},accept:String,beforeUpload:Function,onChange:Function,"onUpdate:fileList":Function,onDrop:Function,listType:String,onPreview:Function,onDownload:Function,onReject:Function,onRemove:Function,remove:Function,supportServerRender:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},prefixCls:String,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},id:String,previewFile:Function,transformFile:Function,iconRender:Function,isImageUrl:Function,progress:Object,itemRender:Function,maxCount:Number,height:[Number,String],removeIcon:Function,downloadIcon:Function,previewIcon:Function}}function Di(){return{listType:String,onPreview:Function,onDownload:Function,onRemove:Function,items:Array,progress:Object,prefixCls:String,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,locale:{type:Object,default:void 0},previewFile:Function,iconRender:Function,isImageUrl:Function,appendAction:Function,appendActionVisible:{type:Boolean,default:void 0},itemRender:Function}}function Qe(n){return O(O({},n),{},{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function Je(n,e){var a=Xe(e),t=a.findIndex(function(i){var r=i.uid;return r===n.uid});return t===-1?a.push(n):a[t]=n,a}function wt(n,e){var a=n.uid!==void 0?"uid":"name";return e.filter(function(t){return t[a]===n[a]})[0]}function ki(n,e){var a=n.uid!==void 0?"uid":"name",t=e.filter(function(i){return i[a]!==n[a]});return t.length===e.length?null:t}var Ii=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=e.split("/"),t=a[a.length-1],i=t.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(i)||[""])[0]},Oa=function(e){return e.indexOf("image/")===0},Si=function(e){if(e.type&&!e.thumbUrl)return Oa(e.type);var a=e.thumbUrl||e.url||"",t=Ii(a);return/^data:image\//.test(a)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(t)?!0:!(/^data:/.test(a)||t)},ye=200;function Pi(n){return new Promise(function(e){if(!n.type||!Oa(n.type)){e("");return}var a=document.createElement("canvas");a.width=ye,a.height=ye,a.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(ye,"px; height: ").concat(ye,"px; z-index: 9999; display: none;"),document.body.appendChild(a);var t=a.getContext("2d"),i=new Image;i.onload=function(){var r=i.width,o=i.height,s=ye,f=ye,l=0,d=0;r>o?(f=o*(ye/r),d=-(f-s)/2):(s=r*(ye/o),l=-(s-f)/2),t.drawImage(i,l,d,s,f);var c=a.toDataURL();document.body.removeChild(a),e(c)},i.src=window.URL.createObjectURL(n)})}var Ri=function(){return{prefixCls:String,locale:{type:Object,default:void 0},file:Object,items:Array,listType:String,isImgUrl:Function,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,iconRender:Function,actionIconRender:Function,itemRender:Function,onPreview:Function,onClose:Function,onDownload:Function,progress:Object}};const Mi=Z({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:Ri(),setup:function(e,a){var t=a.slots,i=a.attrs,r=V(!1),o=V();Ve(function(){o.value=setTimeout(function(){r.value=!0},300)}),_a(function(){clearTimeout(o.value)});var s=Ge("upload",e),f=s.rootPrefixCls,l=X(function(){return Mr("".concat(f.value,"-fade"))});return function(){var d,c,u=e.prefixCls,g=e.locale,b=e.listType,v=e.file,m=e.items,D=e.progress,x=e.iconRender,k=x===void 0?t.iconRender:x,y=e.actionIconRender,C=y===void 0?t.actionIconRender:y,h=e.itemRender,w=h===void 0?t.itemRender:h,R=e.isImgUrl,z=e.showPreviewIcon,A=e.showRemoveIcon,U=e.showDownloadIcon,N=e.previewIcon,_=N===void 0?t.previewIcon:N,S=e.removeIcon,M=S===void 0?t.removeIcon:S,E=e.downloadIcon,P=E===void 0?t.downloadIcon:E,L=e.onPreview,T=e.onDownload,I=e.onClose,B=i.class,re=i.style,ce="".concat(u,"-span"),Q=k({file:v}),ie=p("div",{class:"".concat(u,"-text-icon")},[Q]);if(b==="picture"||b==="picture-card")if(v.status==="uploading"||!v.thumbUrl&&!v.url){var J,fe=(J={},$(J,"".concat(u,"-list-item-thumbnail"),!0),$(J,"".concat(u,"-list-item-file"),v.status!=="uploading"),J);ie=p("div",{class:fe},[Q])}else{var ve,Fe=R!=null&&R(v)?p("img",{src:v.thumbUrl||v.url,alt:v.name,class:"".concat(u,"-list-item-image")},null):Q,Se=(ve={},$(ve,"".concat(u,"-list-item-thumbnail"),!0),$(ve,"".concat(u,"-list-item-file"),R&&!R(v)),ve);ie=p("a",{class:Se,onClick:function(pe){return L(v,pe)},href:v.url||v.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[Fe])}var me=(d={},$(d,"".concat(u,"-list-item"),!0),$(d,"".concat(u,"-list-item-").concat(v.status),!0),$(d,"".concat(u,"-list-item-list-type-").concat(b),!0),d),ne=typeof v.linkProps=="string"?JSON.parse(v.linkProps):v.linkProps,he=A?C({customIcon:M?M({file:v}):p(Ia,null,null),callback:function(){return I(v)},prefixCls:u,title:g.removeFile}):null,Ke=U&&v.status==="done"?C({customIcon:P?P({file:v}):p(Yr,null,null),callback:function(){return T(v)},prefixCls:u,title:g.downloadFile}):null,Wt=b!=="picture-card"&&p("span",{key:"download-delete",class:["".concat(u,"-list-item-card-actions"),{picture:b==="picture"}]},[Ke,he]),Xt="".concat(u,"-list-item-name"),Ka=v.url?[p("a",O(O({key:"view",target:"_blank",rel:"noopener noreferrer",class:Xt,title:v.name},ne),{},{href:v.url,onClick:function(pe){return L(v,pe)}}),[v.name]),Wt]:[p("span",{key:"view",class:Xt,onClick:function(pe){return L(v,pe)},title:v.name},[v.name]),Wt],Za={pointerEvents:"none",opacity:.5},Qa=z?p("a",{href:v.url||v.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:v.url||v.thumbUrl?void 0:Za,onClick:function(pe){return L(v,pe)},title:g.previewFile},[_?_({file:v}):p(pn,null,null)]):null,Ja=b==="picture-card"&&v.status!=="uploading"&&p("span",{class:"".concat(u,"-list-item-actions")},[Qa,v.status==="done"&&Ke,he]),dt;if(v.response&&typeof v.response=="string")dt=v.response;else{var ft,ht;dt=((ft=v.error)===null||ft===void 0?void 0:ft.statusText)||((ht=v.error)===null||ht===void 0?void 0:ht.message)||g.uploadError}var er=p("span",{class:ce},[ie,Ka]),Ht=p("div",{class:me},[p("div",{class:"".concat(u,"-list-item-info")},[er]),Ja,r.value&&p(Er,l.value,{default:function(){return[lt(p("div",{class:"".concat(u,"-list-item-progress")},["percent"in v?p(ai,O(O({},D),{},{type:"line",percent:v.percent}),null):null]),[[Bt,v.status==="uploading"]])]}})]),tr=(c={},$(c,"".concat(u,"-list-").concat(b,"-container"),!0),$(c,"".concat(B),!!B),c),Yt=v.status==="error"?p(vn,{title:dt,getPopupContainer:function(pe){return pe.parentNode}},{default:function(){return[Ht]}}):Ht;return p("div",{class:tr,style:re,ref:V},[w?w({originNode:Yt,file:v,fileList:m,actions:{download:T.bind(null,v),preview:L.bind(null,v),remove:I.bind(null,v)}}):Yt])}}});var Ei=function(e,a){var t,i=a.slots;return Ar((t=i.default)===null||t===void 0?void 0:t.call(i))[0]};const Ti=Z({compatConfig:{MODE:3},name:"AUploadList",props:qe(Di(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:Pi,isImageUrl:Si,items:[],appendActionVisible:!0}),setup:function(e,a){var t=a.slots,i=a.expose,r=V(!1),o=sr();Ve(function(){r.value==!0}),or(function(){e.listType!=="picture"&&e.listType!=="picture-card"||(e.items||[]).forEach(function(D){typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(D.originFileObj instanceof File||D.originFileObj instanceof Blob)||D.thumbUrl!==void 0||(D.thumbUrl="",e.previewFile&&e.previewFile(D.originFileObj).then(function(x){D.thumbUrl=x||"",o.update()}))})});var s=function(x,k){if(e.onPreview)return k==null||k.preventDefault(),e.onPreview(x)},f=function(x){typeof e.onDownload=="function"?e.onDownload(x):x.url&&window.open(x.url)},l=function(x){var k;(k=e.onRemove)===null||k===void 0||k.call(e,x)},d=function(x){var k=x.file,y=e.iconRender||t.iconRender;if(y)return y({file:k,listType:e.listType});var C=k.status==="uploading",h=e.isImageUrl&&e.isImageUrl(k)?p(Vr,null,null):p(Gr,null,null),w=C?p(Gt,null,null):p(qr,null,null);return e.listType==="picture"?w=C?p(Gt,null,null):h:e.listType==="picture-card"&&(w=C?e.locale.uploading:h),w},c=function(x){var k=x.customIcon,y=x.callback,C=x.prefixCls,h=x.title,w={type:"text",size:"small",title:h,onClick:function(){y()},class:"".concat(C,"-list-item-card-actions-btn")};return Fr(k)?p(nt,w,{icon:function(){return k}}):p(nt,w,{default:function(){return[p("span",null,[k])]}})};i({handlePreview:s,handleDownload:f});var u=Ge("upload",e),g=u.prefixCls,b=u.direction,v=X(function(){var D;return D={},$(D,"".concat(g.value,"-list"),!0),$(D,"".concat(g.value,"-list-").concat(e.listType),!0),$(D,"".concat(g.value,"-list-rtl"),b.value==="rtl"),D}),m=X(function(){return O(O(O({},gn("".concat(g.value,"-").concat(e.listType==="picture-card"?"animate-inline":"animate"))),Tr("".concat(g.value,"-").concat(e.listType==="picture-card"?"animate-inline":"animate"))),{},{class:v.value,appear:r.value})});return function(){var D=e.listType,x=e.locale,k=e.isImageUrl,y=e.items,C=y===void 0?[]:y,h=e.showPreviewIcon,w=e.showRemoveIcon,R=e.showDownloadIcon,z=e.removeIcon,A=e.previewIcon,U=e.downloadIcon,N=e.progress,_=e.appendAction,S=e.itemRender,M=e.appendActionVisible,E=_==null?void 0:_();return p(Or,O(O({},m.value),{},{tag:"div"}),{default:function(){return[C.map(function(L){var T=L.uid;return p(Mi,{key:T,locale:x,prefixCls:g.value,file:L,items:C,progress:N,listType:D,isImgUrl:k,showPreviewIcon:h,showRemoveIcon:w,showDownloadIcon:R,onPreview:s,onDownload:f,onClose:l,removeIcon:z,previewIcon:A,downloadIcon:U,itemRender:S},O(O({},t),{},{iconRender:d,actionIconRender:c}))}),_?lt(p(Ei,{key:"__ant_upload_appendAction"},{default:function(){return E}}),[[Bt,!!M]]):null]}})}}});var Oi=["class","style"],$e="__LIST_IGNORE_".concat(Date.now(),"__");const at=Z({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:qe(Ta(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup:function(e,a){var t=a.slots,i=a.attrs,r=a.expose,o=wn(),s=yn(e.defaultFileList||[],{value:lr(e,"fileList"),postState:function(_){var S=Date.now();return(_??[]).map(function(M,E){return!M.uid&&!Object.isFrozen(M)&&(M.uid="__AUTO__".concat(S,"_").concat(E,"__")),M})}}),f=xt(s,2),l=f[0],d=f[1],c=V("drop"),u=V();Ve(function(){je(e.fileList!==void 0||i.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),je(e.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),je(e.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});var g=function(_,S,M){var E,P,L=Xe(S);e.maxCount===1?L=L.slice(-1):e.maxCount&&(L=L.slice(0,e.maxCount)),d(L);var T={file:_,fileList:L};M&&(T.event=M),(E=e["onUpdate:fileList"])===null||E===void 0||E.call(e,T.fileList),(P=e.onChange)===null||P===void 0||P.call(e,T),o.onFieldChange()},b=function(){var N=Sa(it.mark(function _(S,M){var E,P,L,T;return it.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(E=e.beforeUpload,P=e.transformFile,L=S,!E){B.next=13;break}return B.next=5,E(S,M);case 5:if(T=B.sent,T!==!1){B.next=8;break}return B.abrupt("return",!1);case 8:if(delete S[$e],T!==$e){B.next=12;break}return Object.defineProperty(S,$e,{value:!0,configurable:!0}),B.abrupt("return",!1);case 12:ka(T)==="object"&&T&&(L=T);case 13:if(!P){B.next=17;break}return B.next=16,P(L);case 16:L=B.sent;case 17:return B.abrupt("return",L);case 18:case"end":return B.stop()}},_)}));return function(S,M){return N.apply(this,arguments)}}(),v=function(_){var S=_.filter(function(P){return!P.file[$e]});if(S.length){var M=S.map(function(P){return Qe(P.file)}),E=Xe(l.value);M.forEach(function(P){E=Je(P,E)}),M.forEach(function(P,L){var T=P;if(S[L].parsedFile)P.status="uploading";else{var I=P.originFileObj,B;try{B=new File([I],I.name,{type:I.type})}catch{B=new Blob([I],{type:I.type}),B.name=I.name,B.lastModifiedDate=new Date,B.lastModified=new Date().getTime()}B.uid=P.uid,T=B}g(T,E)})}},m=function(_,S,M){try{typeof _=="string"&&(_=JSON.parse(_))}catch{}if(wt(S,l.value)){var E=Qe(S);E.status="done",E.percent=100,E.response=_,E.xhr=M;var P=Je(E,l.value);g(E,P)}},D=function(_,S){if(wt(S,l.value)){var M=Qe(S);M.status="uploading",M.percent=_.percent;var E=Je(M,l.value);g(M,E,_)}},x=function(_,S,M){if(wt(M,l.value)){var E=Qe(M);E.error=_,E.response=S,E.status="error";var P=Je(E,l.value);g(E,P)}},k=function(_){var S,M=e.onRemove||e.remove;Promise.resolve(typeof M=="function"?M(_):M).then(function(E){if(E!==!1){var P=ki(_,l.value);if(P){var L,T;S=O(O({},_),{},{status:"removed"}),(L=l.value)===null||L===void 0||L.forEach(function(I){var B=S.uid!==void 0?"uid":"name";I[B]===S[B]&&!Object.isFrozen(I)&&(I.status="removed")}),(T=u.value)===null||T===void 0||T.abort(S),g(S,P)}}})},y=function(_){if(c.value=_.type,_.type==="drop"){var S;(S=e.onDrop)===null||S===void 0||S.call(e,_)}};r({onBatchStart:v,onSuccess:m,onProgress:D,onError:x,fileList:l,upload:u});var C=Ge("upload",e),h=C.prefixCls,w=C.direction,R=Nr("Upload",Br.Upload,X(function(){return e.locale})),z=xt(R,1),A=z[0],U=function(_,S){var M=e.removeIcon,E=e.previewIcon,P=e.downloadIcon,L=e.previewFile,T=e.onPreview,I=e.onDownload,B=e.disabled,re=e.isImageUrl,ce=e.progress,Q=e.itemRender,ie=e.iconRender,J=e.showUploadList,fe=typeof J=="boolean"?{}:J,ve=fe.showDownloadIcon,Fe=fe.showPreviewIcon,Se=fe.showRemoveIcon;return J?p(Ti,{listType:e.listType,items:l.value,previewFile:L,onPreview:T,onDownload:I,onRemove:k,showRemoveIcon:!B&&Se,showPreviewIcon:Fe,showDownloadIcon:ve,removeIcon:M,previewIcon:E,downloadIcon:P,iconRender:ie,locale:A.value,isImageUrl:re,progress:ce,itemRender:Q,appendActionVisible:S,appendAction:_},O({},t)):_==null?void 0:_()};return function(){var N,_,S,M=e.listType,E=e.disabled,P=e.type;i.class,i.style;var L=Ae(i,Oi),T=O(O(O({onBatchStart:v,onError:x,onProgress:D,onSuccess:m},L),e),{},{id:(N=e.id)!==null&&N!==void 0?N:o.id.value,prefixCls:h.value,beforeUpload:b,onChange:void 0});if(delete T.remove,(!t.default||E)&&delete T.id,P==="drag"){var I,B,re=vt(h.value,(I={},$(I,"".concat(h.value,"-drag"),!0),$(I,"".concat(h.value,"-drag-uploading"),l.value.some(function(J){return J.status==="uploading"})),$(I,"".concat(h.value,"-drag-hover"),c.value==="dragover"),$(I,"".concat(h.value,"-disabled"),E),$(I,"".concat(h.value,"-rtl"),w.value==="rtl"),I),i.class);return p("span",null,[p("div",{class:re,onDrop:y,onDragover:y,onDragleave:y,style:i.style},[p(ra,O(O({},T),{},{ref:u,class:"".concat(h.value,"-btn")}),O({default:function(){return[p("div",{class:"".concat(h,"-drag-container")},[(B=t.default)===null||B===void 0?void 0:B.call(t)])]}},t))]),U()])}var ce=vt(h.value,(_={},$(_,"".concat(h.value,"-select"),!0),$(_,"".concat(h.value,"-select-").concat(M),!0),$(_,"".concat(h.value,"-disabled"),E),$(_,"".concat(h.value,"-rtl"),w.value==="rtl"),_)),Q=Da((S=t.default)===null||S===void 0?void 0:S.call(t)),ie=function(fe){return p("div",{class:ce,style:fe},[p(ra,O(O({},T),{},{ref:u}),t)])};return M==="picture-card"?p("span",{class:vt("".concat(h.value,"-picture-card-wrapper"),i.class)},[U(ie,!!(Q&&Q.length))]):p("span",{class:i.class},[ie(Q&&Q.length?void 0:{display:"none"}),U()])}}});var Ai=["height"],Fi=["style"];const bt=Z({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:Ta(),setup:function(e,a){var t=a.slots,i=a.attrs;return function(){var r=e.height,o=Ae(e,Ai),s=i.style,f=Ae(i,Fi),l=O(O(O({},o),f),{},{type:"drag",style:O(O({},s),{},{height:typeof r=="number"?"".concat(r,"px"):r})});return p(at,l,t)}}}),Ni=Lr(at,{Dragger:bt,LIST_IGNORE:$e,install:function(e){return e.component(at.name,at),e.component(bt.name,bt),e}}),Bi={name:"DictBadge"},Li=Z({...Bi,props:{value:null,dictCode:null,itemFilter:null,itemDisabledChecker:null},setup(n){const e=n,{dictItem:a,showText:t}=rr(e),i=X(()=>{var o,s;return((s=(o=a.value)==null?void 0:o.attributes)==null?void 0:s.color)||e.color}),r=X(()=>{var o,s;return(s=(o=a.value)==null?void 0:o.attributes)==null?void 0:s.badgeStatus});return(o,s)=>{const f=nr;return K(),ee(f,cr(e,{status:W(r),color:W(i),text:W(t)}),null,16,["status","color","text"])}}});function na(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,t)}return a}function Aa(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?na(Object(a),!0).forEach(function(t){$i(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):na(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function rt(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=function(e){return typeof e}:rt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(n)}function Ui(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ia(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function zi(n,e,a){return e&&ia(n.prototype,e),a&&ia(n,a),n}function $i(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function Fa(n){return ji(n)||Wi(n)||Xi(n)||Hi()}function ji(n){if(Array.isArray(n))return It(n)}function Wi(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xi(n,e){if(n){if(typeof n=="string")return It(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return It(n,e)}}function It(n,e){(e==null||e>n.length)&&(e=n.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=n[a];return t}function Hi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ut=typeof window<"u"&&typeof window.document<"u",de=ut?window:{},Lt=ut&&de.document.documentElement?"ontouchstart"in de.document.documentElement:!1,Ut=ut?"PointerEvent"in de:!1,H="cropper",zt="all",Na="crop",Ba="move",La="zoom",Ce="e",xe="w",Pe="s",we="n",Ne="ne",Be="nw",Le="se",Ue="sw",St="".concat(H,"-crop"),oa="".concat(H,"-disabled"),ae="".concat(H,"-hidden"),sa="".concat(H,"-hide"),Yi="".concat(H,"-invisible"),st="".concat(H,"-modal"),Pt="".concat(H,"-move"),He="".concat(H,"Action"),et="".concat(H,"Preview"),$t="crop",Ua="move",za="none",Rt="crop",Mt="cropend",Et="cropmove",Tt="cropstart",la="dblclick",Vi=Lt?"touchstart":"mousedown",Gi=Lt?"touchmove":"mousemove",qi=Lt?"touchend touchcancel":"mouseup",ca=Ut?"pointerdown":Vi,ua=Ut?"pointermove":Gi,da=Ut?"pointerup pointercancel":qi,fa="ready",ha="resize",pa="wheel",Ot="zoom",va="image/jpeg",Ki=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Zi=/^data:/,Qi=/^data:image\/jpeg;base64,/,Ji=/^img|canvas$/i,$a=200,ja=100,ma={viewMode:0,dragMode:$t,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:$a,minContainerHeight:ja,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},eo='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',to=Number.isNaN||de.isNaN;function j(n){return typeof n=="number"&&!to(n)}var ga=function(e){return e>0&&e<1/0};function _t(n){return typeof n>"u"}function Ie(n){return rt(n)==="object"&&n!==null}var ao=Object.prototype.hasOwnProperty;function Re(n){if(!Ie(n))return!1;try{var e=n.constructor,a=e.prototype;return e&&a&&ao.call(a,"isPrototypeOf")}catch{return!1}}function te(n){return typeof n=="function"}var ro=Array.prototype.slice;function Wa(n){return Array.from?Array.from(n):ro.call(n)}function G(n,e){return n&&te(e)&&(Array.isArray(n)||j(n.length)?Wa(n).forEach(function(a,t){e.call(n,a,t,n)}):Ie(n)&&Object.keys(n).forEach(function(a){e.call(n,n[a],a,n)})),n}var Y=Object.assign||function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),i=1;i<a;i++)t[i-1]=arguments[i];return Ie(e)&&t.length>0&&t.forEach(function(r){Ie(r)&&Object.keys(r).forEach(function(o){e[o]=r[o]})}),e},no=/\.\d*(?:0|9){12}\d*$/;function Te(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return no.test(n)?Math.round(n*e)/e:n}var io=/^width|height|left|top|marginLeft|marginTop$/;function be(n,e){var a=n.style;G(e,function(t,i){io.test(i)&&j(t)&&(t="".concat(t,"px")),a[i]=t})}function oo(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function q(n,e){if(e){if(j(n.length)){G(n,function(t){q(t,e)});return}if(n.classList){n.classList.add(e);return}var a=n.className.trim();a?a.indexOf(e)<0&&(n.className="".concat(a," ").concat(e)):n.className=e}}function ue(n,e){if(e){if(j(n.length)){G(n,function(a){ue(a,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function Me(n,e,a){if(e){if(j(n.length)){G(n,function(t){Me(t,e,a)});return}a?q(n,e):ue(n,e)}}var so=/([a-z\d])([A-Z])/g;function jt(n){return n.replace(so,"$1-$2").toLowerCase()}function At(n,e){return Ie(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(jt(e)))}function Ye(n,e,a){Ie(a)?n[e]=a:n.dataset?n.dataset[e]=a:n.setAttribute("data-".concat(jt(e)),a)}function lo(n,e){if(Ie(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(jt(e)))}var Xa=/\s\s*/,Ha=function(){var n=!1;if(ut){var e=!1,a=function(){},t=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(r){e=r}});de.addEventListener("test",a,t),de.removeEventListener("test",a,t)}return n}();function le(n,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=a;e.trim().split(Xa).forEach(function(r){if(!Ha){var o=n.listeners;o&&o[r]&&o[r][a]&&(i=o[r][a],delete o[r][a],Object.keys(o[r]).length===0&&delete o[r],Object.keys(o).length===0&&delete n.listeners)}n.removeEventListener(r,i,t)})}function oe(n,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=a;e.trim().split(Xa).forEach(function(r){if(t.once&&!Ha){var o=n.listeners,s=o===void 0?{}:o;i=function(){delete s[r][a],n.removeEventListener(r,i,t);for(var l=arguments.length,d=new Array(l),c=0;c<l;c++)d[c]=arguments[c];a.apply(n,d)},s[r]||(s[r]={}),s[r][a]&&n.removeEventListener(r,s[r][a],t),s[r][a]=i,n.listeners=s}n.addEventListener(r,i,t)})}function Oe(n,e,a){var t;return te(Event)&&te(CustomEvent)?t=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!0,!0,a)),n.dispatchEvent(t)}function Ya(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ct=de.location,co=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ya(n){var e=n.match(co);return e!==null&&(e[1]!==Ct.protocol||e[2]!==Ct.hostname||e[3]!==Ct.port)}function wa(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function We(n){var e=n.rotate,a=n.scaleX,t=n.scaleY,i=n.translateX,r=n.translateY,o=[];j(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),j(r)&&r!==0&&o.push("translateY(".concat(r,"px)")),j(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),j(a)&&a!==1&&o.push("scaleX(".concat(a,")")),j(t)&&t!==1&&o.push("scaleY(".concat(t,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function uo(n){var e=Aa({},n),a=0;return G(n,function(t,i){delete e[i],G(e,function(r){var o=Math.abs(t.startX-r.startX),s=Math.abs(t.startY-r.startY),f=Math.abs(t.endX-r.endX),l=Math.abs(t.endY-r.endY),d=Math.sqrt(o*o+s*s),c=Math.sqrt(f*f+l*l),u=(c-d)/d;Math.abs(u)>Math.abs(a)&&(a=u)})}),a}function tt(n,e){var a=n.pageX,t=n.pageY,i={endX:a,endY:t};return e?i:Aa({startX:a,startY:t},i)}function fo(n){var e=0,a=0,t=0;return G(n,function(i){var r=i.startX,o=i.startY;e+=r,a+=o,t+=1}),e/=t,a/=t,{pageX:e,pageY:a}}function _e(n){var e=n.aspectRatio,a=n.height,t=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=ga(t),o=ga(a);if(r&&o){var s=a*e;i==="contain"&&s>t||i==="cover"&&s<t?a=t/e:t=a*e}else r?a=t/e:o&&(t=a*e);return{width:t,height:a}}function ho(n){var e=n.width,a=n.height,t=n.degree;if(t=Math.abs(t)%180,t===90)return{width:a,height:e};var i=t%90*Math.PI/180,r=Math.sin(i),o=Math.cos(i),s=e*o+a*r,f=e*r+a*o;return t>90?{width:f,height:s}:{width:s,height:f}}function po(n,e,a,t){var i=e.aspectRatio,r=e.naturalWidth,o=e.naturalHeight,s=e.rotate,f=s===void 0?0:s,l=e.scaleX,d=l===void 0?1:l,c=e.scaleY,u=c===void 0?1:c,g=a.aspectRatio,b=a.naturalWidth,v=a.naturalHeight,m=t.fillColor,D=m===void 0?"transparent":m,x=t.imageSmoothingEnabled,k=x===void 0?!0:x,y=t.imageSmoothingQuality,C=y===void 0?"low":y,h=t.maxWidth,w=h===void 0?1/0:h,R=t.maxHeight,z=R===void 0?1/0:R,A=t.minWidth,U=A===void 0?0:A,N=t.minHeight,_=N===void 0?0:N,S=document.createElement("canvas"),M=S.getContext("2d"),E=_e({aspectRatio:g,width:w,height:z}),P=_e({aspectRatio:g,width:U,height:_},"cover"),L=Math.min(E.width,Math.max(P.width,b)),T=Math.min(E.height,Math.max(P.height,v)),I=_e({aspectRatio:i,width:w,height:z}),B=_e({aspectRatio:i,width:U,height:_},"cover"),re=Math.min(I.width,Math.max(B.width,r)),ce=Math.min(I.height,Math.max(B.height,o)),Q=[-re/2,-ce/2,re,ce];return S.width=Te(L),S.height=Te(T),M.fillStyle=D,M.fillRect(0,0,L,T),M.save(),M.translate(L/2,T/2),M.rotate(f*Math.PI/180),M.scale(d,u),M.imageSmoothingEnabled=k,M.imageSmoothingQuality=C,M.drawImage.apply(M,[n].concat(Fa(Q.map(function(ie){return Math.floor(Te(ie))})))),M.restore(),S}var Va=String.fromCharCode;function vo(n,e,a){var t="";a+=e;for(var i=e;i<a;i+=1)t+=Va(n.getUint8(i));return t}var mo=/^data:.*,/;function go(n){var e=n.replace(mo,""),a=atob(e),t=new ArrayBuffer(a.length),i=new Uint8Array(t);return G(i,function(r,o){i[o]=a.charCodeAt(o)}),t}function yo(n,e){for(var a=[],t=8192,i=new Uint8Array(n);i.length>0;)a.push(Va.apply(null,Wa(i.subarray(0,t)))),i=i.subarray(t);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}function wo(n){var e=new DataView(n),a;try{var t,i,r;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,s=2;s+1<o;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){i=s;break}s+=1}if(i){var f=i+4,l=i+10;if(vo(e,f,4)==="Exif"){var d=e.getUint16(l);if(t=d===18761,(t||d===19789)&&e.getUint16(l+2,t)===42){var c=e.getUint32(l+4,t);c>=8&&(r=l+c)}}}if(r){var u=e.getUint16(r,t),g,b;for(b=0;b<u;b+=1)if(g=r+b*12+2,e.getUint16(g,t)===274){g+=8,a=e.getUint16(g,t),e.setUint16(g,1,t);break}}}catch{a=1}return a}function bo(n){var e=0,a=1,t=1;switch(n){case 2:a=-1;break;case 3:e=-180;break;case 4:t=-1;break;case 5:e=90,t=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:t}}var _o={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,t=this.container,i=this.cropper,r=Number(a.minContainerWidth),o=Number(a.minContainerHeight);q(i,ae),ue(e,ae);var s={width:Math.max(t.offsetWidth,r>=0?r:$a),height:Math.max(t.offsetHeight,o>=0?o:ja)};this.containerData=s,be(i,{width:s.width,height:s.height}),q(e,ae),ue(i,ae)},initCanvas:function(){var e=this.containerData,a=this.imageData,t=this.options.viewMode,i=Math.abs(a.rotate)%180===90,r=i?a.naturalHeight:a.naturalWidth,o=i?a.naturalWidth:a.naturalHeight,s=r/o,f=e.width,l=e.height;e.height*s>e.width?t===3?f=e.height*s:l=e.width/s:t===3?l=e.width/s:f=e.height*s;var d={aspectRatio:s,naturalWidth:r,naturalHeight:o,width:f,height:l};this.canvasData=d,this.limited=t===1||t===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Y({},d)},limitCanvas:function(e,a){var t=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,s=t.viewMode,f=r.aspectRatio,l=this.cropped&&o;if(e){var d=Number(t.minCanvasWidth)||0,c=Number(t.minCanvasHeight)||0;s>1?(d=Math.max(d,i.width),c=Math.max(c,i.height),s===3&&(c*f>d?d=c*f:c=d/f)):s>0&&(d?d=Math.max(d,l?o.width:0):c?c=Math.max(c,l?o.height:0):l&&(d=o.width,c=o.height,c*f>d?d=c*f:c=d/f));var u=_e({aspectRatio:f,width:d,height:c});d=u.width,c=u.height,r.minWidth=d,r.minHeight=c,r.maxWidth=1/0,r.maxHeight=1/0}if(a)if(s>(l?0:1)){var g=i.width-r.width,b=i.height-r.height;r.minLeft=Math.min(0,g),r.minTop=Math.min(0,b),r.maxLeft=Math.max(0,g),r.maxTop=Math.max(0,b),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,s===2&&(r.width>=i.width&&(r.minLeft=Math.min(0,g),r.maxLeft=Math.max(0,g)),r.height>=i.height&&(r.minTop=Math.min(0,b),r.maxTop=Math.max(0,b))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,a){var t=this.canvasData,i=this.imageData;if(a){var r=ho({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,s=r.height,f=t.width*(o/t.naturalWidth),l=t.height*(s/t.naturalHeight);t.left-=(f-t.width)/2,t.top-=(l-t.height)/2,t.width=f,t.height=l,t.aspectRatio=o/s,t.naturalWidth=o,t.naturalHeight=s,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,be(this.canvas,Y({width:t.width,height:t.height},We({translateX:t.left,translateY:t.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,t=this.imageData,i=t.naturalWidth*(a.width/a.naturalWidth),r=t.naturalHeight*(a.height/a.naturalHeight);Y(t,{width:i,height:r,left:(a.width-i)/2,top:(a.height-r)/2}),be(this.image,Y({width:t.width,height:t.height},We(Y({translateX:t.left,translateY:t.top},t)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,t=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:a.width,height:a.height};t&&(a.height*t>a.width?r.height=r.width/t:r.width=r.height*t),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=a.left+(a.width-r.width)/2,r.top=a.top+(a.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Y({},r)},limitCropBox:function(e,a){var t=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,s=this.limited,f=t.aspectRatio;if(e){var l=Number(t.minCropBoxWidth)||0,d=Number(t.minCropBoxHeight)||0,c=s?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,u=s?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;l=Math.min(l,i.width),d=Math.min(d,i.height),f&&(l&&d?d*f>l?d=l/f:l=d*f:l?d=l/f:d&&(l=d*f),u*f>c?u=c/f:c=u*f),o.minWidth=Math.min(l,c),o.minHeight=Math.min(d,u),o.maxWidth=c,o.maxHeight=u}a&&(s?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,a=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,e.movable&&e.cropBoxMovable&&Ye(this.face,He,t.width>=a.width&&t.height>=a.height?Ba:zt),be(this.cropBox,Y({width:t.width,height:t.height},We({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Oe(this.element,Rt,this.getData())}},Co={initPreview:function(){var e=this.element,a=this.crossOrigin,t=this.options.preview,i=a?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(a&&(o.crossOrigin=a),o.src=i,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,!!t){var s=t;typeof t=="string"?s=e.ownerDocument.querySelectorAll(t):t.querySelector&&(s=[t]),this.previews=s,G(s,function(f){var l=document.createElement("img");Ye(f,et,{width:f.offsetWidth,height:f.offsetHeight,html:f.innerHTML}),a&&(l.crossOrigin=a),l.src=i,l.alt=r,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',f.innerHTML="",f.appendChild(l)})}},resetPreview:function(){G(this.previews,function(e){var a=At(e,et);be(e,{width:a.width,height:a.height}),e.innerHTML=a.html,lo(e,et)})},preview:function(){var e=this.imageData,a=this.canvasData,t=this.cropBoxData,i=t.width,r=t.height,o=e.width,s=e.height,f=t.left-a.left-e.left,l=t.top-a.top-e.top;!this.cropped||this.disabled||(be(this.viewBoxImage,Y({width:o,height:s},We(Y({translateX:-f,translateY:-l},e)))),G(this.previews,function(d){var c=At(d,et),u=c.width,g=c.height,b=u,v=g,m=1;i&&(m=u/i,v=r*m),r&&v>g&&(m=g/r,b=i*m,v=g),be(d,{width:b,height:v}),be(d.getElementsByTagName("img")[0],Y({width:o*m,height:s*m},We(Y({translateX:-f*m,translateY:-l*m},e))))}))}},xo={bind:function(){var e=this.element,a=this.options,t=this.cropper;te(a.cropstart)&&oe(e,Tt,a.cropstart),te(a.cropmove)&&oe(e,Et,a.cropmove),te(a.cropend)&&oe(e,Mt,a.cropend),te(a.crop)&&oe(e,Rt,a.crop),te(a.zoom)&&oe(e,Ot,a.zoom),oe(t,ca,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&oe(t,pa,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&oe(t,la,this.onDblclick=this.dblclick.bind(this)),oe(e.ownerDocument,ua,this.onCropMove=this.cropMove.bind(this)),oe(e.ownerDocument,da,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&oe(window,ha,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,t=this.cropper;te(a.cropstart)&&le(e,Tt,a.cropstart),te(a.cropmove)&&le(e,Et,a.cropmove),te(a.cropend)&&le(e,Mt,a.cropend),te(a.crop)&&le(e,Rt,a.crop),te(a.zoom)&&le(e,Ot,a.zoom),le(t,ca,this.onCropStart),a.zoomable&&a.zoomOnWheel&&le(t,pa,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&le(t,la,this.onDblclick),le(e.ownerDocument,ua,this.onCropMove),le(e.ownerDocument,da,this.onCropEnd),a.responsive&&le(window,ha,this.onResize)}},Do={resize:function(){if(!this.disabled){var e=this.options,a=this.container,t=this.containerData,i=a.offsetWidth/t.width,r=a.offsetHeight/t.height,o=Math.abs(i-1)>Math.abs(r-1)?i:r;if(o!==1){var s,f;e.restore&&(s=this.getCanvasData(),f=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(G(s,function(l,d){s[d]=l*o})),this.setCropBoxData(G(f,function(l,d){f[d]=l*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===za||this.setDragMode(oo(this.dragBox,St)?Ua:$t)},wheel:function(e){var a=this,t=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*t,e)))},cropStart:function(e){var a=e.buttons,t=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(j(a)&&a!==1||j(t)&&t!==0||e.ctrlKey))){var i=this.options,r=this.pointers,o;e.changedTouches?G(e.changedTouches,function(s){r[s.identifier]=tt(s)}):r[e.pointerId||0]=tt(e),Object.keys(r).length>1&&i.zoomable&&i.zoomOnTouch?o=La:o=At(e.target,He),Ki.test(o)&&Oe(this.element,Tt,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===Na&&(this.cropping=!0,q(this.dragBox,st)))}},cropMove:function(e){var a=this.action;if(!(this.disabled||!a)){var t=this.pointers;e.preventDefault(),Oe(this.element,Et,{originalEvent:e,action:a})!==!1&&(e.changedTouches?G(e.changedTouches,function(i){Y(t[i.identifier]||{},tt(i,!0))}):Y(t[e.pointerId||0]||{},tt(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,t=this.pointers;e.changedTouches?G(e.changedTouches,function(i){delete t[i.identifier]}):delete t[e.pointerId||0],a&&(e.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,Me(this.dragBox,st,this.cropped&&this.options.modal)),Oe(this.element,Mt,{originalEvent:e,action:a}))}}},ko={change:function(e){var a=this.options,t=this.canvasData,i=this.containerData,r=this.cropBoxData,o=this.pointers,s=this.action,f=a.aspectRatio,l=r.left,d=r.top,c=r.width,u=r.height,g=l+c,b=d+u,v=0,m=0,D=i.width,x=i.height,k=!0,y;!f&&e.shiftKey&&(f=c&&u?c/u:1),this.limited&&(v=r.minLeft,m=r.minTop,D=v+Math.min(i.width,t.width,t.left+t.width),x=m+Math.min(i.height,t.height,t.top+t.height));var C=o[Object.keys(o)[0]],h={x:C.endX-C.startX,y:C.endY-C.startY},w=function(z){switch(z){case Ce:g+h.x>D&&(h.x=D-g);break;case xe:l+h.x<v&&(h.x=v-l);break;case we:d+h.y<m&&(h.y=m-d);break;case Pe:b+h.y>x&&(h.y=x-b);break}};switch(s){case zt:l+=h.x,d+=h.y;break;case Ce:if(h.x>=0&&(g>=D||f&&(d<=m||b>=x))){k=!1;break}w(Ce),c+=h.x,c<0&&(s=xe,c=-c,l-=c),f&&(u=c/f,d+=(r.height-u)/2);break;case we:if(h.y<=0&&(d<=m||f&&(l<=v||g>=D))){k=!1;break}w(we),u-=h.y,d+=h.y,u<0&&(s=Pe,u=-u,d-=u),f&&(c=u*f,l+=(r.width-c)/2);break;case xe:if(h.x<=0&&(l<=v||f&&(d<=m||b>=x))){k=!1;break}w(xe),c-=h.x,l+=h.x,c<0&&(s=Ce,c=-c,l-=c),f&&(u=c/f,d+=(r.height-u)/2);break;case Pe:if(h.y>=0&&(b>=x||f&&(l<=v||g>=D))){k=!1;break}w(Pe),u+=h.y,u<0&&(s=we,u=-u,d-=u),f&&(c=u*f,l+=(r.width-c)/2);break;case Ne:if(f){if(h.y<=0&&(d<=m||g>=D)){k=!1;break}w(we),u-=h.y,d+=h.y,c=u*f}else w(we),w(Ce),h.x>=0?g<D?c+=h.x:h.y<=0&&d<=m&&(k=!1):c+=h.x,h.y<=0?d>m&&(u-=h.y,d+=h.y):(u-=h.y,d+=h.y);c<0&&u<0?(s=Ue,u=-u,c=-c,d-=u,l-=c):c<0?(s=Be,c=-c,l-=c):u<0&&(s=Le,u=-u,d-=u);break;case Be:if(f){if(h.y<=0&&(d<=m||l<=v)){k=!1;break}w(we),u-=h.y,d+=h.y,c=u*f,l+=r.width-c}else w(we),w(xe),h.x<=0?l>v?(c-=h.x,l+=h.x):h.y<=0&&d<=m&&(k=!1):(c-=h.x,l+=h.x),h.y<=0?d>m&&(u-=h.y,d+=h.y):(u-=h.y,d+=h.y);c<0&&u<0?(s=Le,u=-u,c=-c,d-=u,l-=c):c<0?(s=Ne,c=-c,l-=c):u<0&&(s=Ue,u=-u,d-=u);break;case Ue:if(f){if(h.x<=0&&(l<=v||b>=x)){k=!1;break}w(xe),c-=h.x,l+=h.x,u=c/f}else w(Pe),w(xe),h.x<=0?l>v?(c-=h.x,l+=h.x):h.y>=0&&b>=x&&(k=!1):(c-=h.x,l+=h.x),h.y>=0?b<x&&(u+=h.y):u+=h.y;c<0&&u<0?(s=Ne,u=-u,c=-c,d-=u,l-=c):c<0?(s=Le,c=-c,l-=c):u<0&&(s=Be,u=-u,d-=u);break;case Le:if(f){if(h.x>=0&&(g>=D||b>=x)){k=!1;break}w(Ce),c+=h.x,u=c/f}else w(Pe),w(Ce),h.x>=0?g<D?c+=h.x:h.y>=0&&b>=x&&(k=!1):c+=h.x,h.y>=0?b<x&&(u+=h.y):u+=h.y;c<0&&u<0?(s=Be,u=-u,c=-c,d-=u,l-=c):c<0?(s=Ue,c=-c,l-=c):u<0&&(s=Ne,u=-u,d-=u);break;case Ba:this.move(h.x,h.y),k=!1;break;case La:this.zoom(uo(o),e),k=!1;break;case Na:if(!h.x||!h.y){k=!1;break}y=Ya(this.cropper),l=C.startX-y.left,d=C.startY-y.top,c=r.minWidth,u=r.minHeight,h.x>0?s=h.y>0?Le:Ne:h.x<0&&(l-=c,s=h.y>0?Ue:Be),h.y<0&&(d-=u),this.cropped||(ue(this.cropBox,ae),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}k&&(r.width=c,r.height=u,r.left=l,r.top=d,this.action=s,this.renderCropBox()),G(o,function(R){R.startX=R.endX,R.startY=R.endY})}},Io={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&q(this.dragBox,st),ue(this.cropBox,ae),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Y({},this.initialImageData),this.canvasData=Y({},this.initialCanvasData),this.cropBoxData=Y({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Y(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ue(this.dragBox,st),q(this.cropBox,ae)),this},replace:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,G(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ue(this.cropper,oa)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,q(this.cropper,oa)),this},destroy:function(){var e=this.element;return e[H]?(e[H]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,i=t.left,r=t.top;return this.moveTo(_t(e)?e:i+Number(e),_t(a)?a:r+Number(a))},moveTo:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,i=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(j(e)&&(t.left=e,i=!0),j(a)&&(t.top=a,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,a){var t=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(t.width*e/t.naturalWidth,null,a)},zoomTo:function(e,a,t){var i=this.options,r=this.canvasData,o=r.width,s=r.height,f=r.naturalWidth,l=r.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var d=f*e,c=l*e;if(Oe(this.element,Ot,{ratio:e,oldRatio:o/f,originalEvent:t})===!1)return this;if(t){var u=this.pointers,g=Ya(this.cropper),b=u&&Object.keys(u).length?fo(u):{pageX:t.pageX,pageY:t.pageY};r.left-=(d-o)*((b.pageX-g.left-r.left)/o),r.top-=(c-s)*((b.pageY-g.top-r.top)/s)}else Re(a)&&j(a.x)&&j(a.y)?(r.left-=(d-o)*((a.x-r.left)/o),r.top-=(c-s)*((a.y-r.top)/s)):(r.left-=(d-o)/2,r.top-=(c-s)/2);r.width=d,r.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),j(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,j(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(j(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData,i=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(j(e)&&(t.scaleX=e,i=!0),j(a)&&(t.scaleY=a,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,t=this.imageData,i=this.canvasData,r=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:r.left-i.left,y:r.top-i.top,width:r.width,height:r.height};var s=t.width/t.naturalWidth;if(G(o,function(d,c){o[c]=d/s}),e){var f=Math.round(o.y+o.height),l=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=l-o.x,o.height=f-o.y}}else o={x:0,y:0,width:0,height:0};return a.rotatable&&(o.rotate=t.rotate||0),a.scalable&&(o.scaleX=t.scaleX||1,o.scaleY=t.scaleY||1),o},setData:function(e){var a=this.options,t=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&Re(e)){var o=!1;a.rotatable&&j(e.rotate)&&e.rotate!==t.rotate&&(t.rotate=e.rotate,o=!0),a.scalable&&(j(e.scaleX)&&e.scaleX!==t.scaleX&&(t.scaleX=e.scaleX,o=!0),j(e.scaleY)&&e.scaleY!==t.scaleY&&(t.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=t.width/t.naturalWidth;j(e.x)&&(r.left=e.x*s+i.left),j(e.y)&&(r.top=e.y*s+i.top),j(e.width)&&(r.width=e.width*s),j(e.height)&&(r.height=e.height*s),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Y({},this.containerData):{}},getImageData:function(){return this.sized?Y({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&G(["left","top","width","height","naturalWidth","naturalHeight"],function(t){a[t]=e[t]}),a},setCanvasData:function(e){var a=this.canvasData,t=a.aspectRatio;return this.ready&&!this.disabled&&Re(e)&&(j(e.left)&&(a.left=e.left),j(e.top)&&(a.top=e.top),j(e.width)?(a.width=e.width,a.height=e.width/t):j(e.height)&&(a.height=e.height,a.width=e.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var a=this.cropBoxData,t=this.options.aspectRatio,i,r;return this.ready&&this.cropped&&!this.disabled&&Re(e)&&(j(e.left)&&(a.left=e.left),j(e.top)&&(a.top=e.top),j(e.width)&&e.width!==a.width&&(i=!0,a.width=e.width),j(e.height)&&e.height!==a.height&&(r=!0,a.height=e.height),t&&(i?a.height=a.width/t:r&&(a.width=a.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,t=po(this.image,this.imageData,a,e);if(!this.cropped)return t;var i=this.getData(),r=i.x,o=i.y,s=i.width,f=i.height,l=t.width/Math.floor(a.naturalWidth);l!==1&&(r*=l,o*=l,s*=l,f*=l);var d=s/f,c=_e({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=_e({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),g=_e({aspectRatio:d,width:e.width||(l!==1?t.width:s),height:e.height||(l!==1?t.height:f)}),b=g.width,v=g.height;b=Math.min(c.width,Math.max(u.width,b)),v=Math.min(c.height,Math.max(u.height,v));var m=document.createElement("canvas"),D=m.getContext("2d");m.width=Te(b),m.height=Te(v),D.fillStyle=e.fillColor||"transparent",D.fillRect(0,0,b,v);var x=e.imageSmoothingEnabled,k=x===void 0?!0:x,y=e.imageSmoothingQuality;D.imageSmoothingEnabled=k,y&&(D.imageSmoothingQuality=y);var C=t.width,h=t.height,w=r,R=o,z,A,U,N,_,S;w<=-s||w>C?(w=0,z=0,U=0,_=0):w<=0?(U=-w,w=0,z=Math.min(C,s+w),_=z):w<=C&&(U=0,z=Math.min(s,C-w),_=z),z<=0||R<=-f||R>h?(R=0,A=0,N=0,S=0):R<=0?(N=-R,R=0,A=Math.min(h,f+R),S=A):R<=h&&(N=0,A=Math.min(f,h-R),S=A);var M=[w,R,z,A];if(_>0&&S>0){var E=b/s;M.push(U*E,N*E,_*E,S*E)}return D.drawImage.apply(D,[t].concat(Fa(M.map(function(P){return Math.floor(Te(P))})))),m},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!_t(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,t=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=e===$t,o=a.movable&&e===Ua;e=r||o?e:za,a.dragMode=e,Ye(t,He,e),Me(t,St,r),Me(t,Pt,o),a.cropBoxMovable||(Ye(i,He,e),Me(i,St,r),Me(i,Pt,o))}return this}},So=de.Cropper,Ga=function(){function n(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ui(this,n),!e||!Ji.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Y({},ma,Re(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return zi(n,[{key:"init",value:function(){var a=this.element,t=a.tagName.toLowerCase(),i;if(!a[H]){if(a[H]=this,t==="img"){if(this.isImg=!0,i=a.getAttribute("src")||"",this.originalUrl=i,!i)return;i=a.src}else t==="canvas"&&window.HTMLCanvasElement&&(i=a.toDataURL());this.load(i)}}},{key:"load",value:function(a){var t=this;if(a){this.url=a,this.imageData={};var i=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Zi.test(a)){Qi.test(a)?this.read(go(a)):this.clone();return}var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==va&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&ya(a)&&i.crossOrigin&&(a=wa(a)),o.open("GET",a,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(a){var t=this.options,i=this.imageData,r=wo(a),o=0,s=1,f=1;if(r>1){this.url=yo(a,va);var l=bo(r);o=l.rotate,s=l.scaleX,f=l.scaleY}t.rotatable&&(i.rotate=o),t.scalable&&(i.scaleX=s,i.scaleY=f),this.clone()}},{key:"clone",value:function(){var a=this.element,t=this.url,i=a.crossOrigin,r=t;this.options.checkCrossOrigin&&ya(t)&&(i||(i="anonymous"),r=wa(t)),this.crossOrigin=i,this.crossOriginUrl=r;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=r||t,o.alt=a.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),q(o,sa),a.parentNode.insertBefore(o,a.nextSibling)}},{key:"start",value:function(){var a=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=de.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(de.navigator.userAgent),r=function(l,d){Y(a.imageData,{naturalWidth:l,naturalHeight:d,aspectRatio:l/d}),a.initialImageData=Y({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(t.naturalWidth&&!i){r(t.naturalWidth,t.naturalHeight);return}var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),i||s.removeChild(o)},o.src=t.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,t=this.options,i=this.image,r=a.parentNode,o=document.createElement("div");o.innerHTML=eo;var s=o.querySelector(".".concat(H,"-container")),f=s.querySelector(".".concat(H,"-canvas")),l=s.querySelector(".".concat(H,"-drag-box")),d=s.querySelector(".".concat(H,"-crop-box")),c=d.querySelector(".".concat(H,"-face"));this.container=r,this.cropper=s,this.canvas=f,this.dragBox=l,this.cropBox=d,this.viewBox=s.querySelector(".".concat(H,"-view-box")),this.face=c,f.appendChild(i),q(a,ae),r.insertBefore(s,a.nextSibling),this.isImg||ue(i,sa),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,q(d,ae),t.guides||q(d.getElementsByClassName("".concat(H,"-dashed")),ae),t.center||q(d.getElementsByClassName("".concat(H,"-center")),ae),t.background&&q(s,"".concat(H,"-bg")),t.highlight||q(c,Yi),t.cropBoxMovable&&(q(c,Pt),Ye(c,He,zt)),t.cropBoxResizable||(q(d.getElementsByClassName("".concat(H,"-line")),ae),q(d.getElementsByClassName("".concat(H,"-point")),ae)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),te(t.ready)&&oe(a,fa,t.ready,{once:!0}),Oe(a,fa)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),ue(this.element,ae))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=So,n}},{key:"setDefaults",value:function(a){Y(ma,Re(a)&&a)}}]),n}();Y(Ga.prototype,_o,Co,xo,Do,ko,Io);const Po=["src","alt","crossorigin"],Ro=Z({__name:"VueCropper",props:{src:{type:String,required:!0},alt:{type:String,default:"image"},imgStyle:{type:Object,default:()=>({})},imgCrossOrigin:{type:String,default:void 0},viewMode:{type:Number,default:0},dragMode:{type:String,default:"crop"},initialAspectRatio:{type:Number,default:NaN},aspectRatio:{type:Number,default:NaN},data:{type:Object,default:void 0},preview:{type:[String,Array,Object],default:""},responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:{type:Number,default:.8},movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:{type:Number,default:.1},cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:{type:Number,default:0},minCanvasHeight:{type:Number,default:0},minCropBoxWidth:{type:Number,default:0},minCropBoxHeight:{type:Number,default:0},minContainerWidth:{type:Number,default:200},minContainerHeight:{type:Number,default:100},ready:{type:Function,default:void 0},cropstart:{type:Function,default:void 0},cropmove:{type:Function,default:void 0},cropend:{type:Function,default:void 0},crop:{type:Function,default:void 0},zoom:{type:Function,default:void 0}},setup(n,{expose:e}){const a=n,t={display:"block",maxWidth:"100%"},i=V();let r;function o(){a.src?r=new Ga(i.value,dr(a)):r=void 0}return Ve(o),ur(()=>a,()=>{r==null||r.destroy(),fr(o)},{deep:!0}),e({clear(){return r==null?void 0:r.clear()},crop(){return r==null?void 0:r.crop()},destroy(){return r==null?void 0:r.destroy()},disable(){return r==null?void 0:r.disable()},enable(){return r==null?void 0:r.enable()},getCanvasData(){return r==null?void 0:r.getCanvasData()},getContainerData(){return r==null?void 0:r.getContainerData()},getCropBoxData(){return r==null?void 0:r.getCropBoxData()},getCroppedCanvas(s){return r==null?void 0:r.getCroppedCanvas(s)},getData(s){return r==null?void 0:r.getData(s)},getImageData(){return r==null?void 0:r.getImageData()},move(s,f){return r==null?void 0:r.move(s,f)},moveTo(s,f){return r==null?void 0:r.moveTo(s,f)},replace(s,f){return r==null?void 0:r.replace(s,f)},reset(){return r==null?void 0:r.reset()},rotate(s){return r==null?void 0:r.rotate(s)},rotateTo(s){return r==null?void 0:r.rotateTo(s)},scale(s,f){return r==null?void 0:r.scale(s,f)},scaleX(s){return r==null?void 0:r.scaleX(s)},scaleY(s){return r==null?void 0:r.scaleY(s)},setAspectRatio(s){return r==null?void 0:r.setAspectRatio(s)},setCanvasData(s){return r==null?void 0:r.setCanvasData(s)},setCropBoxData(s){return r==null?void 0:r.setCropBoxData(s)},setData(s){return r==null?void 0:r.setData(s)},setDragMode(s){return r==null?void 0:r.setDragMode(s)},zoom(s){return r==null?void 0:r.zoom(s)},zoomTo(s,f){return r==null?void 0:r.zoomTo(s,f)},flipX(){if(r){const{scaleX:s}=r.getData();r.scaleX(-s)}},flipY(){if(r){const{scaleY:s}=r.getData();r.scaleY(-s)}}}),(s,f)=>(K(),Ft("div",null,[se("img",{ref_key:"imageRef",ref:i,src:a.src,alt:a.alt,crossorigin:n.imgCrossOrigin,style:Ca([t,a.imgStyle])},null,12,Po)]))}});const qa=n=>(hr("data-v-7af14017"),n=n(),pr(),n),Mo={key:0,class:"cropper-container cropper-bg",style:{width:"100%",height:"320px"}},Eo=qa(()=>se("div",{class:"cropper-modal-preview"},null,-1)),To=qa(()=>se("div",{class:"cropper-modal-preview circle",style:{"margin-top":"20px"}},null,-1)),Oo={style:{"margin-top":"20px"},class:"cropper-modal-buttons"},Ao={name:"CropperModal"},Fo=Z({...Ao,props:{uploadProcessor:null},emits:["ok"],setup(n,{expose:e,emit:a}){const t=n,i=V(),r=V(""),{visible:o,openModal:s,closeModal:f}=Hr();function l(v){r.value&&i.value?v():Ze.error("请先上传一张图片！")}const d=V(!1);let c="";const u=v=>{const m=new FileReader;return m.readAsDataURL(v),m.onload=()=>{r.value=m.result},c=v.name,!1};let g;const b=()=>{var m;const v=(m=i.value)==null?void 0:m.getCroppedCanvas();if(v)try{v.toBlob(D=>{if(!D){Ze.error("裁剪图片失败");return}t.uploadProcessor({data:D,name:c},g).then(x=>{d.value=!1,Ze.success("上传图片成功"),a("ok",x),close()})})}catch{Ze.error("裁剪图片异常，请检查图片源是否不允许跨域加载")}};return e({open:(v,m)=>{g=m,r.value=v||"",s()}}),(v,m)=>{const D=Pa,x=Ra,k=Kr,y=nt,C=Zr,h=ln,w=Qr,R=Jr,z=en,A=tn,U=an,N=rn,_=nn,S=on,M=sn,E=Ni,P=xa,L=bn;return K(),ee(L,{title:"图片上传",visible:W(o),"mask-closable":!1,"confirm-loading":W(d),width:720,"body-style":{padding:"16px 24px"},footer:null,onCancel:W(f)},{default:F(()=>[p(x,{gutter:16},{default:F(()=>[p(D,{xs:24,md:18,style:{height:"320px"}},{default:F(()=>[lt(p(W(Ro),{ref_key:"cropperRef",ref:i,"img-cross-origin":"anonymous",alt:"avatar","drag-mode":"move",src:W(r),"aspect-ratio":1,style:{height:"100%"},preview:".cropper-modal-preview"},null,8,["src"]),[[Bt,W(r)]]),W(r)?De("",!0):(K(),Ft("div",Mo))]),_:1}),p(D,null,{default:F(()=>[Eo,To]),_:1})]),_:1}),p(x,{justify:"center"},{default:F(()=>[p(D,null,{default:F(()=>[se("div",Oo,[p(P,{size:20},{default:F(()=>[p(h,null,{default:F(()=>[p(y,{type:"primary",onClick:m[0]||(m[0]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.zoom(.1)}))},{icon:F(()=>[p(k)]),_:1}),p(y,{type:"primary",onClick:m[1]||(m[1]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.zoom(-.1)}))},{icon:F(()=>[p(C)]),_:1})]),_:1}),p(h,null,{default:F(()=>[p(y,{type:"primary",onClick:m[2]||(m[2]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.move(-10,0)}))},{icon:F(()=>[p(w)]),_:1}),p(y,{type:"primary",onClick:m[3]||(m[3]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.move(10,0)}))},{icon:F(()=>[p(R)]),_:1}),p(y,{type:"primary",onClick:m[4]||(m[4]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.move(0,-10)}))},{icon:F(()=>[p(z)]),_:1}),p(y,{type:"primary",onClick:m[5]||(m[5]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.move(0,10)}))},{icon:F(()=>[p(A)]),_:1})]),_:1}),p(h,null,{default:F(()=>[p(y,{type:"primary",onClick:m[6]||(m[6]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.rotate(-45)}))},{icon:F(()=>[p(U)]),_:1}),p(y,{type:"primary",onClick:m[7]||(m[7]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.rotate(45)}))},{icon:F(()=>[p(N)]),_:1})]),_:1}),p(h,null,{default:F(()=>[p(y,{type:"primary",onClick:m[8]||(m[8]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.flipX()}))},{icon:F(()=>[p(_)]),_:1}),p(y,{type:"primary",onClick:m[9]||(m[9]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.flipY()}))},{icon:F(()=>[p(_,{rotate:90})]),_:1})]),_:1}),p(h,null,{default:F(()=>[p(y,{type:"primary",onClick:m[10]||(m[10]=T=>l(()=>{var I;return(I=W(i))==null?void 0:I.reset()}))},{icon:F(()=>[p(S)]),_:1}),p(E,{name:"file","before-upload":u,"show-upload-list":!1},{default:F(()=>[p(y,{type:"primary"},{icon:F(()=>[p(M)]),_:1})]),_:1})]),_:1}),p(y,{type:"primary",onClick:m[11]||(m[11]=T=>l(()=>b()))},{default:F(()=>[ze("保存")]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading","onCancel"])}}});const No=Cn(Fo,[["__scopeId","data-v-7af14017"]]),Bo=["onClick"],Lo=["onClick"],Uo=["onClick"],zo=["onClick"],$o=se("a",{href:"javascript:"},"删除",-1),jo={name:"SysUserPage"},Vl=Z({...jo,setup(n){const{hasPermission:e}=In(),a=V(),t=V(),i=V(),r=V(),o=V(),s=V(),f=V(),l=yr(),d=X(()=>l.value==="sm"||l.value==="xs"),c=({height:A})=>{f.value={height:d.value?"auto":`${A}px`}};let u={};const g=(A,U,N)=>{const _=kn(A,U,N);return u&&(u.organizationId=s.value),$r({..._,...u})},b=A=>{var U,N;(N=(U=a.value)==null?void 0:U.actionRef)==null||N.reload(A)},v=A=>{u=A,b(!0)},m=A=>{s.value=A,b()},D=()=>{t.value.open(Kt.CREATE)},x=A=>{t.value.open(Kt.UPDATE,A)},k=A=>{Zt(jr(A.userId),{successMessage:"删除成功！",onSuccess:()=>b()})},y=(A,U)=>{const N=U.key;Zt(Wr(A,N),{successMessage:"修改状态成功！",onSuccess:()=>b()})},C=A=>{r.value.open(A)},h=A=>{o.value.open(A)},w=A=>{i.value.open(Vt(A.avatar),A)},R=(A,U)=>Xr(U.userId,A).then(N=>{const _=N.data;U.avatar=_;const{userInfo:S}=_n();return S&&S.userId===U.userId&&(S.avatar=_),N}),z=[{title:"用户名",dataIndex:"username"},{title:"昵称",dataIndex:"nickname"},{title:"头像",dataIndex:"avatar"},{title:"性别",dataIndex:"sex"},{title:"组织",dataIndex:"organizationName"},{title:"电话",dataIndex:"phone"},{title:"状态",dataIndex:"status",width:"80px"},{title:"创建时间",dataIndex:"createTime",width:"150px",sorter:!0},{key:"operate",title:"操作",align:"center",width:"70px"}];return(A,U)=>{const N=_r,_=Pa,S=Tn,M=Ia,E=xr,P=On,L=Dr,T=wr,I=xa,B=Fn,re=nt,ce=An,Q=Ee,ie=gr,J=Li,fe=ar,ve=Ra,Fe=mr("has");return K(),Ft(ba,null,[p(ve,{gutter:14},{default:F(()=>[p(_,{xs:24,md:8,lg:5},{default:F(()=>[p(N,{"body-style":{padding:0},bordered:!1},{default:F(()=>[p(xn,{style:Ca(W(f)),onSelect:m},null,8,["style"])]),_:1})]),_:1}),p(_,{xs:24,md:16,lg:19},{default:F(()=>[p(W(zr),{onResize:c},{default:F(()=>{var Se;return[se("div",null,[p(Dn,{loading:(Se=W(a))==null?void 0:Se.loading,onSearch:v},null,8,["loading"]),p(W(Ur),{ref_key:"tableRef",ref:a,"header-title":"系统用户","row-key":"userId",columns:z,request:g,scroll:{x:800},"table-style":{minHeight:"550px"},"row-selection":{}},{tableAlertOptionRender:F(({intl:me,onCleanSelected:ne,selectedRowKeys:he})=>[p(I,{size:16},{default:F(()=>[W(e)("system:user:edit")?(K(),ee(T,{key:0},{overlay:F(()=>[p(L,{onClick:Ke=>y(he,Ke)},{default:F(()=>[(K(),ee(E,{key:1},{default:F(()=>[p(M,{style:{"margin-right":"8px"}}),ze("开启 ")]),_:1})),(K(),ee(E,{key:0},{default:F(()=>[p(P,{style:{"margin-right":"8px"}}),ze("锁定 ")]),_:1}))]),_:2},1032,["onClick"])]),default:F(()=>[se("a",{onClick:U[0]||(U[0]=qt(()=>{},["prevent"]))},[ze(" 批量操作 "),p(S)])]),_:2},1024)):De("",!0),se("a",{onClick:ne},vr(me.getMessage("alert.clear","清空")),9,Bo)]),_:2},1024)]),toolBarRender:F(()=>[lt((K(),ee(re,{key:"show",type:"primary",onClick:D},{default:F(()=>[p(B),ze(" 新建 ")]),_:1})),[[Fe,"system:user:add"]])]),bodyCell:F(({column:me,record:ne})=>[me.key==="avatar"?(K(),ee(Q,{key:0,shape:"square",src:ne.avatar&&W(Vt)(ne.avatar),size:"large",onClick:he=>w(ne)},{icon:F(()=>[p(ce)]),_:2},1032,["src","onClick"])):me.key==="sex"?(K(),ee(ie,{key:1,"dict-code":"gender",value:ne.sex},null,8,["value"])):me.key==="status"?(K(),ee(J,{key:2,"dict-code":"user_status",value:ne.status},null,8,["value"])):me.key==="operate"?(K(),ee(T,{key:3,trigger:["click"]},{overlay:F(()=>[p(L,null,{default:F(()=>[W(e)("system:user:edit")?(K(),ee(E,{key:0},{default:F(()=>[se("a",{onClick:he=>x(ne)},"修改",8,Lo)]),_:2},1024)):De("",!0),W(e)("system:user:grant")?(K(),ee(E,{key:1},{default:F(()=>[se("a",{onClick:he=>C(ne)},"授权",8,Uo)]),_:2},1024)):De("",!0),W(e)("system:user:pass")?(K(),ee(E,{key:2},{default:F(()=>[se("a",{onClick:he=>h(ne)},"改密",8,zo)]),_:2},1024)):De("",!0),W(e)("system:user:del")?(K(),ee(E,{key:3},{default:F(()=>[p(fe,{title:"确认要删除吗？",onConfirm:he=>k(ne)},{default:F(()=>[$o]),_:2},1032,["onConfirm"])]),_:2},1024)):De("",!0)]),_:2},1024)]),default:F(()=>[se("a",{class:"ant-dropdown-link",onClick:U[1]||(U[1]=qt(()=>{},["prevent"]))}," 操作 ")]),_:2},1024)):De("",!0)]),_:1},512)])]}),_:1})]),_:1})]),_:1}),p(Rn,{ref_key:"sysUserFormModalRef",ref:t,onSubmitSuccess:b},null,512),p(No,{ref_key:"cropperModalRef",ref:i,"upload-processor":R},null,512),p(Sn,{ref_key:"sysUserScopeModalRef",ref:r},null,512),p(Pn,{ref_key:"changePasswordModalRef",ref:o},null,512)],64)}}});export{Vl as default};
