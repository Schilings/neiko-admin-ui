/* empty css                *//* empty css              */import"./index-cf5fb184.js";import{_ as U,F as A}from"./index-e1aeaf6d.js";import"./index-64985671.js";import"./index-51c9200e.js";/* empty css              */import{I as h}from"./index-4f3b583f.js";import{_ as k}from"./SysRoleSelect.vue_vue_type_script_setup_true_lang-19aecfea.js";import{e as q,q as O}from"./index-9e9c8e3e.js";import{u as R}from"./modal-94b635e5.js";import{F as i,a as y}from"./form-d9144801.js";import{d as B,L as E,o as H,c as L,w as l,a,u as e}from"./runtime-core.esm-bundler-e620233b.js";import{S as T}from"./Spin-99a3053a.js";import{M as N}from"./index-d8cf9b9f.js";const V={name:"SysUserScopeModal"},ao=B({...V,setup($,{expose:d}){const{visible:u,openModal:c,closeModal:m}=R(),_={xs:{span:24},sm:{span:5}},f={xs:{span:24},sm:{span:16}},o=E({userId:void 0,username:"",roleCodes:[]}),v={[i.OTHER]:()=>q(o.userId,{roleCodes:o.roleCodes})},C=i.OTHER,{submitLoading:n,validateAndSubmit:b,resetFields:S}=y(C,v,o),M=()=>{b({...o},{onSuccess:()=>m()})},g=()=>{m(),n.value=!1};return d({open(t){c(),S(),o.userId=t.userId,o.username=t.username,o.roleCodes=[],n.value=!0,O(t.userId).then(s=>{s.data.roleCodes&&(o.roleCodes=s.data.roleCodes,n.value=!1)})}}),(t,s)=>{const I=h,p=U,F=T,w=A,x=N;return H(),L(x,{title:"授权",visible:e(u),"confirm-loading":e(n),onOk:M,onCancel:g},{default:l(()=>[a(w,{model:e(o),"label-col":_,"wrapper-col":f},{default:l(()=>[a(p,{label:"用户名"},{default:l(()=>[a(I,{value:e(o).username,"onUpdate:value":s[0]||(s[0]=r=>e(o).username=r),disabled:"",placeholder:"用户名"},null,8,["value"])]),_:1}),a(p,{label:"角色"},{default:l(()=>[a(F,{spinning:e(n)},{default:l(()=>[a(k,{value:e(o).roleCodes,"onUpdate:value":s[1]||(s[1]=r=>e(o).roleCodes=r),mode:"multiple","allow-clear":"",placeholder:"无角色"},null,8,["value"])]),_:1},8,["spinning"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"])}}});export{ao as _};
