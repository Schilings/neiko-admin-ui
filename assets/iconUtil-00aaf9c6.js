import{a as X,P as Se,X as Zn,_ as L,p as Ne,k as Ye,h as xe,e as Ie,b as Te,G as ea,f as Ae,v as na,T as aa,i as ta,L as ra,K as oa}from"./useConfigInject-4e7e38f3.js";import{d as Me,M as En,K as F,J as wn,a2 as ee,a as R,R as ie,L as On,O as Pn,l as la,x as ia,A as da,S as Pe,N as De,a0 as ua,a1 as ca,_ as Tn,F as va,P as sa,m as ln,ai as fa}from"./runtime-core.esm-bundler-e620233b.js";import{o as Ln}from"./styleChecker-cd40cf0f.js";import{_ as In}from"./index-d8cf9b9f.js";import{L as ya}from"./List-f67cc211.js";import{p as An}from"./pickAttrs-a6ea96de.js";import{e as pe,F as ha,C as ga,M as pa,P as Ka}from"./CaretDownFilled-5dd372a5.js";import{c as ka}from"./collapseMotion-49c35061.js";import{K as Oe}from"./KeyCode-e7009ae3.js";var Mn=Symbol("TreeContextKey"),ba=Me({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,r){var u=r.slots;return En(Mn,F(function(){return e.value})),function(){var l;return(l=u.default)===null||l===void 0?void 0:l.call(u)}}}),fn=function(){return wn(Mn,F(function(){return{}}))},Fn=Symbol("KeysStateKey"),ma=function(e){En(Fn,e)},Bn=function(){return wn(Fn,{expandedKeys:ee([]),selectedKeys:ee([]),loadedKeys:ee([]),loadingKeys:ee([]),checkedKeys:ee([]),halfCheckedKeys:ee([]),expandedKeysSet:F(function(){return new Set}),selectedKeysSet:F(function(){return new Set}),loadedKeysSet:F(function(){return new Set}),loadingKeysSet:F(function(){return new Set}),checkedKeysSet:F(function(){return new Set}),halfCheckedKeysSet:F(function(){return new Set}),flattenNodes:ee([])})},xa=function(e){for(var r=e.prefixCls,u=e.level,l=e.isStart,g=e.isEnd,f="".concat(r,"-indent-unit"),t=[],p=0;p<u;p+=1){var v;t.push(R("span",{key:p,class:(v={},X(v,f,!0),X(v,"".concat(f,"-start"),l[p]),X(v,"".concat(f,"-end"),g[p]),v)},null))}return R("span",{"aria-hidden":"true",class:"".concat(r,"-indent")},[t])};const Ca=xa;var Rn={eventKey:[String,Number],prefixCls:String,title:Se.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Se.any,switcherIcon:Se.any,domRef:{type:Function}},Sa={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Na=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Se.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Se.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Se.any,switcherIcon:Se.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},Da=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],gn="open",pn="close",Ea="---";const Kn=Me({compatConfig:{MODE:3},name:"TreeNode",inheritAttrs:!1,props:Rn,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,r){var u=r.attrs,l=r.slots,g=r.expose;Zn(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(K){return"`v-slot:"+K+"` "}),"instead"));var f=ie(!1),t=fn(),p=Bn(),v=p.expandedKeysSet,N=p.selectedKeysSet,k=p.loadedKeysSet,y=p.loadingKeysSet,C=p.checkedKeysSet,m=p.halfCheckedKeysSet,E=t.value,o=E.dragOverNodeKey,b=E.dropPosition,x=E.keyEntities,O=F(function(){return cn(e.eventKey,{expandedKeysSet:v.value,selectedKeysSet:N.value,loadedKeysSet:k.value,loadingKeysSet:y.value,checkedKeysSet:C.value,halfCheckedKeysSet:m.value,dragOverNodeKey:o,dropPosition:b,keyEntities:x})}),_=pe(function(){return O.value.expanded}),B=pe(function(){return O.value.selected}),H=pe(function(){return O.value.checked}),ne=pe(function(){return O.value.loaded}),j=pe(function(){return O.value.loading}),I=pe(function(){return O.value.halfChecked}),J=pe(function(){return O.value.dragOver}),de=pe(function(){return O.value.dragOverGapTop}),Y=pe(function(){return O.value.dragOverGapBottom}),te=pe(function(){return O.value.pos}),ae=ie(),re=F(function(){var K=e.eventKey,a=t.value.keyEntities,s=a[K]||{},A=s.children;return!!(A||[]).length}),oe=F(function(){var K=e.isLeaf,a=t.value.loadData,s=re.value;return K===!1?!1:K||!a&&!s||a&&ne.value&&!s}),fe=F(function(){return oe.value?null:_.value?gn:pn}),$=F(function(){var K=e.disabled,a=t.value.disabled;return!!(a||K)}),q=F(function(){var K=e.checkable,a=t.value.checkable;return!a||K===!1?!1:a}),ue=F(function(){var K=e.selectable,a=t.value.selectable;return typeof K=="boolean"?K:a}),ye=F(function(){var K=e.data,a=e.active,s=e.checkable,A=e.disableCheckbox,h=e.disabled,i=e.selectable;return L(L({active:a,checkable:s,disableCheckbox:A,disabled:h,selectable:i},K),{},{dataRef:K,data:K,isLeaf:oe.value,checked:H.value,expanded:_.value,loading:j.value,selected:B.value,halfChecked:I.value})}),ve=ia(),Q=F(function(){var K=e.eventKey,a=t.value.keyEntities,s=a[K]||{},A=s.parent;return L(L({},vn(Ne({},e,O.value))),{},{parent:A})}),se=On({eventData:Q,eventKey:F(function(){return e.eventKey}),selectHandle:ae,pos:te,key:ve.vnode.key});g(se);var Ke=function(a){var s=t.value.onNodeDoubleClick;s(a,Q.value)},Be=function(a){if(!$.value){var s=t.value.onNodeSelect;a.preventDefault(),s(a,Q.value)}},Le=function(a){if(!$.value){var s=e.disableCheckbox,A=t.value.onNodeCheck;if(!(!q.value||s)){a.preventDefault();var h=!H.value;A(a,Q.value,h)}}},Re=function(a){var s=t.value.onNodeClick;s(a,Q.value),ue.value?Be(a):Le(a)},Ue=function(a){var s=t.value.onNodeMouseEnter;s(a,Q.value)},Xe=function(a){var s=t.value.onNodeMouseLeave;s(a,Q.value)},qe=function(a){var s=t.value.onNodeContextMenu;s(a,Q.value)},ze=function(a){var s=t.value.onNodeDragStart;a.stopPropagation(),f.value=!0,s(a,se);try{a.dataTransfer.setData("text/plain","")}catch{}},Je=function(a){var s=t.value.onNodeDragEnter;a.preventDefault(),a.stopPropagation(),s(a,se)},Qe=function(a){var s=t.value.onNodeDragOver;a.preventDefault(),a.stopPropagation(),s(a,se)},Ze=function(a){var s=t.value.onNodeDragLeave;a.stopPropagation(),s(a,se)},_e=function(a){var s=t.value.onNodeDragEnd;a.stopPropagation(),f.value=!1,s(a,se)},je=function(a){var s=t.value.onNodeDrop;a.preventDefault(),a.stopPropagation(),f.value=!1,s(a,se)},$e=function(a){var s=t.value.onNodeExpand;j.value||s(a,Q.value)},en=function(){var a=e.data,s=t.value.draggable;return!!(s&&(!s.nodeDraggable||s.nodeDraggable(a)))},nn=function(){var a=t.value,s=a.draggable,A=a.prefixCls;return s!=null&&s.icon?R("span",{class:"".concat(A,"-draggable-icon")},[s.icon]):null},an=function(){var a,s,A,h=e.switcherIcon,i=h===void 0?l.switcherIcon||((a=t.value.slots)===null||a===void 0?void 0:a[(s=e.data)===null||s===void 0||(A=s.slots)===null||A===void 0?void 0:A.switcherIcon]):h,d=t.value.switcherIcon,c=i||d;return typeof c=="function"?c(ye.value):c},Ge=function(){var a=t.value,s=a.loadData,A=a.onNodeLoad;j.value||s&&_.value&&!oe.value&&!re.value&&!ne.value&&A(Q.value)};Pn(function(){Ge()}),la(function(){Ge()});var tn=function(){var a=t.value.prefixCls,s=an();if(oe.value)return s!==!1?R("span",{class:xe("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},[s]):null;var A=xe("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(_.value?gn:pn));return s!==!1?R("span",{onClick:$e,class:A},[s]):null},we=function(){var a,s,A=e.disableCheckbox,h=t.value.prefixCls,i=$.value,d=q.value;return d?R("span",{class:xe("".concat(h,"-checkbox"),H.value&&"".concat(h,"-checkbox-checked"),!H.value&&I.value&&"".concat(h,"-checkbox-indeterminate"),(i||A)&&"".concat(h,"-checkbox-disabled")),onClick:Le},[(a=(s=t.value).customCheckable)===null||a===void 0?void 0:a.call(s)]):null},He=function(){var a=t.value.prefixCls;return R("span",{class:xe("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(fe.value||"docu"),j.value&&"".concat(a,"-icon_loading"))},null)},rn=function(){var a=e.disabled,s=e.eventKey,A=t.value,h=A.draggable,i=A.dropLevelOffset,d=A.dropPosition,c=A.prefixCls,T=A.indent,w=A.dropIndicatorRender,D=A.dragOverNodeKey,S=A.direction,P=h!==!1,M=!a&&P&&D===s;return M?w({dropPosition:d,dropLevelOffset:i,indent:T,prefixCls:c,direction:S}):null},ke=function(){var a,s,A,h,i=e.icon,d=i===void 0?l.icon:i,c=e.data,T=l.title||((a=t.value.slots)===null||a===void 0?void 0:a[(s=e.data)===null||s===void 0||(A=s.slots)===null||A===void 0?void 0:A.title])||((h=t.value.slots)===null||h===void 0?void 0:h.title)||e.title,w=t.value,D=w.prefixCls,S=w.showIcon,P=w.icon,M=w.loadData,G=$.value,W="".concat(D,"-node-content-wrapper"),V;if(S){var z,Z,ce=d||((z=t.value.slots)===null||z===void 0?void 0:z[c==null||(Z=c.slots)===null||Z===void 0?void 0:Z.icon])||P;V=ce?R("span",{class:xe("".concat(D,"-iconEle"),"".concat(D,"-icon__customize"))},[typeof ce=="function"?ce(ye.value):ce]):He()}else M&&j.value&&(V=He());var le;typeof T=="function"?le=T(ye.value):le=T,le=le===void 0?Ea:le;var U=R("span",{class:"".concat(D,"-title")},[le]);return R("span",{ref:ae,title:typeof T=="string"?T:"",class:xe("".concat(W),"".concat(W,"-").concat(fe.value||"normal"),!G&&(B.value||f.value)&&"".concat(D,"-node-selected")),onMouseenter:Ue,onMouseleave:Xe,onContextmenu:qe,onClick:Re,onDblclick:Ke},[V,U,rn()])};return function(){var K,a=L(L({},e),u),s=a.eventKey,A=a.isLeaf,h=a.isStart,i=a.isEnd,d=a.domRef,c=a.active;a.data;var T=a.onMousemove,w=a.selectable,D=Ye(a,Da),S=t.value,P=S.prefixCls,M=S.filterTreeNode,G=S.keyEntities,W=S.dropContainerKey,V=S.dropTargetKey,z=S.draggingNodeKey,Z=$.value,ce=An(D,{aria:!0,data:!0}),le=G[s]||{},U=le.level,he=i[i.length-1],ge=en(),be=!Z&&ge,We=z===s,on=w!==void 0?{"aria-selected":!!w}:void 0;return R("div",L(L({ref:d,class:xe(u.class,"".concat(P,"-treenode"),(K={},X(K,"".concat(P,"-treenode-disabled"),Z),X(K,"".concat(P,"-treenode-switcher-").concat(_.value?"open":"close"),!A),X(K,"".concat(P,"-treenode-checkbox-checked"),H.value),X(K,"".concat(P,"-treenode-checkbox-indeterminate"),I.value),X(K,"".concat(P,"-treenode-selected"),B.value),X(K,"".concat(P,"-treenode-loading"),j.value),X(K,"".concat(P,"-treenode-active"),c),X(K,"".concat(P,"-treenode-leaf-last"),he),X(K,"".concat(P,"-treenode-draggable"),be),X(K,"dragging",We),X(K,"drop-target",V===s),X(K,"drop-container",W===s),X(K,"drag-over",!Z&&J.value),X(K,"drag-over-gap-top",!Z&&de.value),X(K,"drag-over-gap-bottom",!Z&&Y.value),X(K,"filter-node",M&&M(Q.value)),K)),style:u.style,draggable:be,"aria-grabbed":We,onDragstart:be?ze:void 0,onDragenter:ge?Je:void 0,onDragover:ge?Qe:void 0,onDragleave:ge?Ze:void 0,onDrop:ge?je:void 0,onDragend:ge?_e:void 0,onMousemove:T},on),ce),[R(Ca,{prefixCls:P,level:U,isStart:h,isEnd:i},null),nn(),tn(),we(),ke()])}}});function me(n,e){if(!n)return[];var r=n.slice(),u=r.indexOf(e);return u>=0&&r.splice(u,1),r}function Ce(n,e){var r=(n||[]).slice();return r.indexOf(e)===-1&&r.push(e),r}function yn(n){return n.split("-")}function _n(n,e){return"".concat(n,"-").concat(e)}function wa(n){return n&&n.type&&n.type.isTreeNode}function Oa(n,e){var r=[],u=e[n];function l(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];g.forEach(function(f){var t=f.key,p=f.children;r.push(t),l(p)})}return l(u.children),r}function Pa(n){if(n.parent){var e=yn(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function Ta(n){var e=yn(n.pos);return Number(e[e.length-1])===0}function kn(n,e,r,u,l,g,f,t,p,v){var N,k=n.clientX,y=n.clientY,C=n.target.getBoundingClientRect(),m=C.top,E=C.height,o=(v==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-k),b=(o-12)/u,x=t[r.eventKey];if(y<m+E/2){var O=f.findIndex(function(re){return re.key===x.key}),_=O<=0?0:O-1,B=f[_].key;x=t[B]}var H=x.key,ne=x,j=x.key,I=0,J=0;if(!p.has(H))for(var de=0;de<b&&Pa(x);de+=1)x=x.parent,J+=1;var Y=e.eventData,te=x.node,ae=!0;return Ta(x)&&x.level===0&&y<m+E/2&&g({dragNode:Y,dropNode:te,dropPosition:-1})&&x.key===r.eventKey?I=-1:(ne.children||[]).length&&p.has(j)?g({dragNode:Y,dropNode:te,dropPosition:0})?I=0:ae=!1:J===0?b>-1.5?g({dragNode:Y,dropNode:te,dropPosition:1})?I=1:ae=!1:g({dragNode:Y,dropNode:te,dropPosition:0})?I=0:g({dragNode:Y,dropNode:te,dropPosition:1})?I=1:ae=!1:g({dragNode:Y,dropNode:te,dropPosition:1})?I=1:ae=!1,{dropPosition:I,dropLevelOffset:J,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:j,dropContainerKey:I===0?null:((N=x.parent)===null||N===void 0?void 0:N.key)||null,dropAllowed:ae}}function bn(n,e){if(n){var r=e.multiple;return r?n.slice():n.length?[n[0]]:n}}function dn(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(Ie(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function mn(n,e){var r=new Set;function u(l){if(!r.has(l)){var g=e[l];if(g){r.add(l);var f=g.parent,t=g.node;t.disabled||f&&u(f.key)}}}return(n||[]).forEach(function(l){u(l)}),Te(r)}var La=["title","icon","switcherIcon"];function Fe(n,e){return n??e}function hn(n){var e=n||{},r=e.title,u=e._title,l=e.key,g=e.children,f=r||"title";return{title:f,_title:u||[f],key:l||"key",children:g||"children"}}function Ia(n){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=ea(r);return u.map(function(l){var g,f,t,p;if(!wa(l))return null;for(var v=l.children||{},N=l.key,k={},y=0,C=Object.entries(l.props);y<C.length;y++){var m=Ae(C[y],2),E=m[0],o=m[1];k[da(E)]=o}var b=k.isLeaf,x=k.checkable,O=k.selectable,_=k.disabled,B=k.disableCheckbox,H={isLeaf:b||b===""||void 0,checkable:x||x===""||void 0,selectable:O||O===""||void 0,disabled:_||_===""||void 0,disableCheckbox:B||B===""||void 0},ne=L(L({},k),H),j=k.title,I=j===void 0?(g=v.title)===null||g===void 0?void 0:g.call(v,ne):j,J=k.icon,de=J===void 0?(f=v.icon)===null||f===void 0?void 0:f.call(v,ne):J,Y=k.switcherIcon,te=Y===void 0?(t=v.switcherIcon)===null||t===void 0?void 0:t.call(v,ne):Y,ae=Ye(k,La),re=(p=v.default)===null||p===void 0?void 0:p.call(v),oe=L(L({},ae),{},{title:I,icon:de,switcherIcon:te,key:N,isLeaf:b},H),fe=e(re);return fe.length&&(oe.children=fe),oe})}return e(n)}function Aa(n,e,r){var u=hn(r),l=u._title,g=u.key,f=u.children,t=new Set(e===!0?[]:e),p=[];function v(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return N.map(function(y,C){for(var m=_n(k?k.pos:"0",C),E=Fe(y[g],m),o,b=0;b<l.length;b+=1){var x=l[b];if(y[x]!==void 0){o=y[x];break}}var O=L(L({},Ln(y,[].concat(Te(l),[g,f]))),{},{title:o,key:E,parent:k,pos:m,children:null,data:y,isStart:[].concat(Te(k?k.isStart:[]),[C===0]),isEnd:[].concat(Te(k?k.isEnd:[]),[C===N.length-1])});return p.push(O),e===!0||t.has(E)?O.children=v(y[f]||[],O):O.children=[],O})}return v(n),p}function Ma(n,e,r){var u={};Ie(r)==="object"?u=r:u={externalGetKey:r},u=u||{};var l=u,g=l.childrenPropName,f=l.externalGetKey,t=l.fieldNames,p=hn(t),v=p.key,N=p.children,k=g||N,y;f?typeof f=="string"?y=function(E){return E[f]}:typeof f=="function"&&(y=function(E){return f(E)}):y=function(E,o){return Fe(E[v],o)};function C(m,E,o,b){var x=m?m[k]:n,O=m?_n(o.pos,E):"0",_=m?[].concat(Te(b),[m]):[];if(m){var B=y(m,O),H={node:m,index:E,pos:O,key:B,parentPos:o.node?o.pos:null,level:o.level+1,nodes:_};e(H)}x&&x.forEach(function(ne,j){C(ne,j,{node:m,pos:O,level:o?o.level+1:-1},_)})}C(null)}function Fa(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.initWrapper,u=e.processEntity,l=e.onProcessFinished,g=e.externalGetKey,f=e.childrenPropName,t=e.fieldNames,p=arguments.length>2?arguments[2]:void 0,v=g||p,N={},k={},y={posEntities:N,keyEntities:k};return r&&(y=r(y)||y),Ma(n,function(C){var m=C.node,E=C.index,o=C.pos,b=C.key,x=C.parentPos,O=C.level,_=C.nodes,B={node:m,nodes:_,index:E,key:b,pos:o,level:O},H=Fe(b,o);N[o]=B,k[H]=B,B.parent=N[x],B.parent&&(B.parent.children=B.parent.children||[],B.parent.children.push(B)),u&&u(B,y)},{externalGetKey:v,childrenPropName:f,fieldNames:t}),l&&l(y),y}function cn(n,e){var r=e.expandedKeysSet,u=e.selectedKeysSet,l=e.loadedKeysSet,g=e.loadingKeysSet,f=e.checkedKeysSet,t=e.halfCheckedKeysSet,p=e.dragOverNodeKey,v=e.dropPosition,N=e.keyEntities,k=N[n],y={eventKey:n,expanded:r.has(n),selected:u.has(n),loaded:l.has(n),loading:g.has(n),checked:f.has(n),halfChecked:t.has(n),pos:String(k?k.pos:""),parent:k.parent,dragOver:p===n&&v===0,dragOverGapTop:p===n&&v===-1,dragOverGapBottom:p===n&&v===1};return y}function vn(n){var e=n.data,r=n.expanded,u=n.selected,l=n.checked,g=n.loaded,f=n.loading,t=n.halfChecked,p=n.dragOver,v=n.dragOverGapTop,N=n.dragOverGapBottom,k=n.pos,y=n.active,C=n.eventKey,m=L(L({dataRef:e},e),{},{expanded:r,selected:u,checked:l,loaded:g,loading:f,halfChecked:t,dragOver:p,dragOverGapTop:v,dragOverGapBottom:N,pos:k,active:y,eventKey:C,key:C});return"props"in m||Object.defineProperty(m,"props",{get:function(){return n}}),m}function jn(n,e){var r=new Set;return n.forEach(function(u){e.has(u)||r.add(u)}),r}function Ba(n){var e=n||{},r=e.disabled,u=e.disableCheckbox,l=e.checkable;return!!(r||u)||l===!1}function Ra(n,e,r,u){for(var l=new Set(n),g=new Set,f=0;f<=r;f+=1){var t=e.get(f)||new Set;t.forEach(function(k){var y=k.key,C=k.node,m=k.children,E=m===void 0?[]:m;l.has(y)&&!u(C)&&E.filter(function(o){return!u(o.node)}).forEach(function(o){l.add(o.key)})})}for(var p=new Set,v=r;v>=0;v-=1){var N=e.get(v)||new Set;N.forEach(function(k){var y=k.parent,C=k.node;if(!(u(C)||!k.parent||p.has(k.parent.key))){if(u(k.parent.node)){p.add(y.key);return}var m=!0,E=!1;(y.children||[]).filter(function(o){return!u(o.node)}).forEach(function(o){var b=o.key,x=l.has(b);m&&!x&&(m=!1),!E&&(x||g.has(b))&&(E=!0)}),m&&l.add(y.key),E&&g.add(y.key),p.add(y.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(jn(g,l))}}function _a(n,e,r,u,l){for(var g=new Set(n),f=new Set(e),t=0;t<=u;t+=1){var p=r.get(t)||new Set;p.forEach(function(y){var C=y.key,m=y.node,E=y.children,o=E===void 0?[]:E;!g.has(C)&&!f.has(C)&&!l(m)&&o.filter(function(b){return!l(b.node)}).forEach(function(b){g.delete(b.key)})})}f=new Set;for(var v=new Set,N=u;N>=0;N-=1){var k=r.get(N)||new Set;k.forEach(function(y){var C=y.parent,m=y.node;if(!(l(m)||!y.parent||v.has(y.parent.key))){if(l(y.parent.node)){v.add(C.key);return}var E=!0,o=!1;(C.children||[]).filter(function(b){return!l(b.node)}).forEach(function(b){var x=b.key,O=g.has(x);E&&!O&&(E=!1),!o&&(O||f.has(x))&&(o=!0)}),E||g.delete(C.key),o&&f.add(C.key),v.add(C.key)}})}return{checkedKeys:Array.from(g),halfCheckedKeys:Array.from(jn(f,g))}}function un(n,e,r,u,l,g){var f;g?f=g:f=Ba;var t=new Set(n.filter(function(v){var N=!!r[v];return N})),p;return e===!0?p=Ra(t,l,u,f):p=_a(t,e.halfCheckedKeys,l,u,f),p}function ja(n){var e=ie(0),r=ee();return Pe(function(){var u=new Map,l=0,g=n.value||{};for(var f in g)if(Object.prototype.hasOwnProperty.call(g,f)){var t=g[f],p=t.level,v=u.get(p);v||(v=new Set,u.set(p,v)),v.add(t),l=Math.max(l,p)}e.value=l,r.value=u}),{maxLevel:e,levelEntities:r}}var $a=["motion","motionNodes","motionType","active","eventKey"];const Ga=Me({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:L(L({},Rn),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,r){var u=r.attrs,l=r.slots,g=ie(!0),f=fn(),t=ie(!1),p=F(function(){return e.motion?e.motion:ka()}),v=function(k,y){if(y==="appear"){var C,m;(C=p.value)===null||C===void 0||(m=C.onAfterEnter)===null||m===void 0||m.call(C,k)}else if(y==="leave"){var E,o;(E=p.value)===null||E===void 0||(o=E.onAfterLeave)===null||o===void 0||o.call(E,k)}t.value||e.onMotionEnd(),t.value=!0};return De(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&g.value&&Tn(function(){g.value=!1})},{immediate:!0,flush:"post"}),Pn(function(){e.motionNodes&&e.onMotionStart()}),ua(function(){e.motionNodes&&v()}),function(){e.motion;var N=e.motionNodes,k=e.motionType,y=e.active,C=e.eventKey,m=Ye(e,$a);return N?R(aa,L(L({},p.value),{},{appear:k==="show",onAfterAppear:function(o){return v(o,"appear")},onAfterLeave:function(o){return v(o,"leave")}}),{default:function(){return[ca(R("div",{class:"".concat(f.value.prefixCls,"-treenode-motion")},[N.map(function(o){var b=Ne({},(In(o.data),o.data)),x=o.title,O=o.key,_=o.isStart,B=o.isEnd;return delete b.children,R(Kn,L(L({},b),{},{title:x,active:y,data:o.data,key:O,eventKey:O,isStart:_,isEnd:B}),l)})]),[[na,g.value]])]}}):R(Kn,L(L({domRef:ie,class:u.class,style:u.style},m),{},{active:y,eventKey:C}),l)}}});function Ha(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,u=e.length;if(Math.abs(r-u)!==1)return{add:!1,key:null};function l(g,f){var t=new Map;g.forEach(function(v){t.set(v,!0)});var p=f.filter(function(v){return!t.has(v)});return p.length===1?p[0]:null}return r<u?{add:!0,key:l(n,e)}:{add:!1,key:l(e,n)}}function xn(n,e,r){var u=n.findIndex(function(t){return t.key===r}),l=n[u+1],g=e.findIndex(function(t){return t.key===r});if(l){var f=e.findIndex(function(t){return t.key===l.key});return e.slice(g+1,f)}return e.slice(g+1)}var Wa=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],Cn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Va=function(){},Ee="RC_TREE_MOTION_".concat(Math.random()),sn={key:Ee},$n={key:Ee,level:0,index:0,pos:"0",node:sn,nodes:[sn]},Sn={parent:null,children:[],pos:$n.pos,data:sn,title:null,key:Ee,isStart:[],isEnd:[]};function Nn(n,e,r,u){return e===!1||!r?n:n.slice(0,Math.ceil(r/u)+1)}function Dn(n){var e=n.key,r=n.pos;return Fe(e,r)}function Ya(n){for(var e=String(n.key),r=n;r.parent;)r=r.parent,e="".concat(r.key," > ").concat(e);return e}const Ua=Me({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Sa,setup:function(e,r){var u=r.expose,l=r.attrs,g=ie(),f=ie(),t=Bn(),p=t.expandedKeys,v=t.flattenNodes;u({scrollTo:function(x){g.value.scrollTo(x)},getIndentWidth:function(){return f.value.offsetWidth}});var N=ee(v.value),k=ee([]),y=ie(null);function C(){N.value=v.value,k.value=[],y.value=null,e.onListChangeEnd()}var m=fn();De([function(){return p.value.slice()},v],function(b,x){var O=Ae(b,2),_=O[0],B=O[1],H=Ae(x,2),ne=H[0],j=H[1],I=Ha(ne,_);if(I.key!==null){var J=e.virtual,de=e.height,Y=e.itemHeight;if(I.add){var te=j.findIndex(function(q){var ue=q.key;return ue===I.key}),ae=Nn(xn(j,B,I.key),J,de,Y),re=j.slice();re.splice(te+1,0,Sn),N.value=re,k.value=ae,y.value="show"}else{var oe=B.findIndex(function(q){var ue=q.key;return ue===I.key}),fe=Nn(xn(B,j,I.key),J,de,Y),$=B.slice();$.splice(oe+1,0,Sn),N.value=$,k.value=fe,y.value="hide"}}else j!==B&&(N.value=B)}),De(function(){return m.value.dragging},function(b){b||C()});var E=F(function(){return e.motion===void 0?N.value:v.value}),o=function(){e.onActiveChange(null)};return function(){var b=L(L({},e),l),x=b.prefixCls;b.selectable,b.checkable;var O=b.disabled,_=b.motion,B=b.height,H=b.itemHeight,ne=b.virtual,j=b.focusable,I=b.activeItem,J=b.focused,de=b.tabindex,Y=b.onKeydown,te=b.onFocus,ae=b.onBlur,re=b.onListChangeStart;b.onListChangeEnd;var oe=Ye(b,Wa);return R(va,null,[J&&I&&R("span",{style:Cn,"aria-live":"assertive"},[Ya(I)]),R("div",null,[R("input",{style:Cn,disabled:j===!1||O,tabindex:j!==!1?de:null,onKeydown:Y,onFocus:te,onBlur:ae,value:"",onChange:Va,"aria-label":"for screen reader"},null)]),R("div",{class:"".concat(x,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[R("div",{class:"".concat(x,"-indent")},[R("div",{ref:f,class:"".concat(x,"-indent-unit")},null)])]),R(ya,L(L({},Ln(oe,["onActiveChange"])),{},{data:E.value,itemKey:Dn,height:B,fullHeight:!1,virtual:ne,itemHeight:H,prefixCls:"".concat(x,"-list"),ref:g,onVisibleChange:function($,q){var ue=new Set($),ye=q.filter(function(ve){return!ue.has(ve)});ye.some(function(ve){return Dn(ve)===Ee})&&C()}}),{default:function($){var q=$.pos,ue=Ne({},(In($.data),$.data)),ye=$.title,ve=$.key,Q=$.isStart,se=$.isEnd,Ke=Fe(ve,q);return delete ue.key,delete ue.children,R(Ga,L(L({},ue),{},{eventKey:Ke,title:ye,active:!!I&&ve===I.key,data:$.data,isStart:Q,isEnd:se,motion:_,motionNodes:ve===Ee?k.value:null,motionType:y.value,onMotionStart:re,onMotionEnd:C,onMousemove:o}),null)}})])}}});function Xa(n){var e=n.dropPosition,r=n.dropLevelOffset,u=n.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:l.top=0,l.left="".concat(-r*u,"px");break;case 1:l.bottom=0,l.left="".concat(-r*u,"px");break;case 0:l.bottom=0,l.left="".concat(u);break}return R("div",{style:l},null)}var qa=10;const lt=Me({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:ta(Na(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Xa,allowDrop:function(){return!0}}),setup:function(e,r){var u=r.attrs,l=r.slots,g=r.expose,f=ie(!1),t={},p=ie(),v=ee([]),N=ee([]),k=ee([]),y=ee([]),C=ee([]),m=ee([]),E={},o=On({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),b=ee([]);De([function(){return e.treeData},function(){return e.children}],function(){b.value=e.treeData!==void 0?ln(e.treeData).slice():Ia(ln(e.children))},{immediate:!0,deep:!0});var x=ee({}),O=ie(!1),_=ie(null),B=ie(!1),H=F(function(){return hn(e.fieldNames)}),ne=ie(),j=null,I=null,J=null,de=F(function(){return{expandedKeysSet:Y.value,selectedKeysSet:te.value,loadedKeysSet:ae.value,loadingKeysSet:re.value,checkedKeysSet:oe.value,halfCheckedKeysSet:fe.value,dragOverNodeKey:o.dragOverNodeKey,dropPosition:o.dropPosition,keyEntities:x.value}}),Y=F(function(){return new Set(m.value)}),te=F(function(){return new Set(v.value)}),ae=F(function(){return new Set(y.value)}),re=F(function(){return new Set(C.value)}),oe=F(function(){return new Set(N.value)}),fe=F(function(){return new Set(k.value)});Pe(function(){if(b.value){var h=Fa(b.value,{fieldNames:H.value});x.value=L(X({},Ee,$n),h.keyEntities)}});var $=!1;De([function(){return e.expandedKeys},function(){return e.autoExpandParent},x],function(h,i){var d=Ae(h,2);d[0];var c=d[1],T=Ae(i,2);T[0];var w=T[1],D=m.value;if(e.expandedKeys!==void 0||$&&c!==w)D=e.autoExpandParent||!$&&e.defaultExpandParent?mn(e.expandedKeys,x.value):e.expandedKeys;else if(!$&&e.defaultExpandAll){var S=L({},x.value);delete S[Ee],D=Object.keys(S).map(function(P){return S[P].key})}else!$&&e.defaultExpandedKeys&&(D=e.autoExpandParent||e.defaultExpandParent?mn(e.defaultExpandedKeys,x.value):e.defaultExpandedKeys);D&&(m.value=D),$=!0},{immediate:!0});var q=ee([]);Pe(function(){q.value=Aa(b.value,m.value,H.value)}),Pe(function(){e.selectable&&(e.selectedKeys!==void 0?v.value=bn(e.selectedKeys,e):!$&&e.defaultSelectedKeys&&(v.value=bn(e.defaultSelectedKeys,e)))});var ue=ja(x),ye=ue.maxLevel,ve=ue.levelEntities;Pe(function(){if(e.checkable){var h;if(e.checkedKeys!==void 0?h=dn(e.checkedKeys)||{}:!$&&e.defaultCheckedKeys?h=dn(e.defaultCheckedKeys)||{}:b.value&&(h=dn(e.checkedKeys)||{checkedKeys:N.value,halfCheckedKeys:k.value}),h){var i=h,d=i.checkedKeys,c=d===void 0?[]:d,T=i.halfCheckedKeys,w=T===void 0?[]:T;if(!e.checkStrictly){var D=un(c,!0,x.value,ye.value,ve.value);c=D.checkedKeys,w=D.halfCheckedKeys}N.value=c,k.value=w}}}),Pe(function(){e.loadedKeys&&(y.value=e.loadedKeys)});var Q=function(){Ne(o,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},se=function(i){ne.value.scrollTo(i)};De(function(){return e.activeKey},function(){e.activeKey!==void 0&&(_.value=e.activeKey)},{immediate:!0}),De(_,function(h){Tn(function(){h!==null&&se({key:h})})},{immediate:!0,flush:"post"});var Ke=function(i){e.expandedKeys===void 0&&(m.value=i)},Be=function(){o.draggingNodeKey!==null&&Ne(o,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),j=null,J=null},Le=function(i,d){var c=e.onDragend;o.dragOverNodeKey=null,Be(),c==null||c({event:i,node:d.eventData}),I=null},Re=function h(i){Le(i,null),window.removeEventListener("dragend",h)},Ue=function(i,d){var c=e.onDragstart,T=d.eventKey,w=d.eventData;I=d,j={x:i.clientX,y:i.clientY};var D=me(m.value,T);o.draggingNodeKey=T,o.dragChildrenKeys=Oa(T,x.value),p.value=ne.value.getIndentWidth(),Ke(D),window.addEventListener("dragend",Re),c&&c({event:i,node:w})},Xe=function(i,d){var c=e.onDragenter,T=e.onExpand,w=e.allowDrop,D=e.direction,S=d.pos,P=d.eventKey;if(J!==P&&(J=P),!I){Q();return}var M=kn(i,I,d,p.value,j,w,q.value,x.value,Y.value,D),G=M.dropPosition,W=M.dropLevelOffset,V=M.dropTargetKey,z=M.dropContainerKey,Z=M.dropTargetPos,ce=M.dropAllowed,le=M.dragOverNodeKey;if(o.dragChildrenKeys.indexOf(V)!==-1||!ce){Q();return}if(t||(t={}),Object.keys(t).forEach(function(U){clearTimeout(t[U])}),I.eventKey!==d.eventKey&&(t[S]=window.setTimeout(function(){if(o.draggingNodeKey!==null){var U=m.value.slice(),he=x.value[d.eventKey];he&&(he.children||[]).length&&(U=Ce(m.value,d.eventKey)),Ke(U),T&&T(U,{node:d.eventData,expanded:!0,nativeEvent:i})}},800)),I.eventKey===V&&W===0){Q();return}Ne(o,{dragOverNodeKey:le,dropPosition:G,dropLevelOffset:W,dropTargetKey:V,dropContainerKey:z,dropTargetPos:Z,dropAllowed:ce}),c&&c({event:i,node:d.eventData,expandedKeys:m.value})},qe=function(i,d){var c=e.onDragover,T=e.allowDrop,w=e.direction;if(I){var D=kn(i,I,d,p.value,j,T,q.value,x.value,Y.value,w),S=D.dropPosition,P=D.dropLevelOffset,M=D.dropTargetKey,G=D.dropContainerKey,W=D.dropAllowed,V=D.dropTargetPos,z=D.dragOverNodeKey;o.dragChildrenKeys.indexOf(M)!==-1||!W||(I.eventKey===M&&P===0?o.dropPosition===null&&o.dropLevelOffset===null&&o.dropTargetKey===null&&o.dropContainerKey===null&&o.dropTargetPos===null&&o.dropAllowed===!1&&o.dragOverNodeKey===null||Q():S===o.dropPosition&&P===o.dropLevelOffset&&M===o.dropTargetKey&&G===o.dropContainerKey&&V===o.dropTargetPos&&W===o.dropAllowed&&z===o.dragOverNodeKey||Ne(o,{dropPosition:S,dropLevelOffset:P,dropTargetKey:M,dropContainerKey:G,dropTargetPos:V,dropAllowed:W,dragOverNodeKey:z}),c&&c({event:i,node:d.eventData}))}},ze=function(i,d){J===d.eventKey&&!i.currentTarget.contains(i.relatedTarget)&&(Q(),J=null);var c=e.onDragleave;c&&c({event:i,node:d.eventData})},Je=function(i,d){var c,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=o.dragChildrenKeys,D=o.dropPosition,S=o.dropTargetKey,P=o.dropTargetPos,M=o.dropAllowed;if(M){var G=e.onDrop;if(o.dragOverNodeKey=null,Be(),S!==null){var W=L(L({},cn(S,ln(de.value))),{},{active:((c=K.value)===null||c===void 0?void 0:c.key)===S,data:x.value[S].node});w.indexOf(S);var V=yn(P),z={event:i,node:vn(W),dragNode:I?I.eventData:null,dragNodesKeys:[I.eventKey].concat(w),dropToGap:D!==0,dropPosition:D+Number(V[V.length-1])};T||G==null||G(z),I=null}}},Qe=function(i,d){var c=e.onClick;c&&c(i,d)},Ze=function(i,d){var c=e.onDblclick;c&&c(i,d)},_e=function(i,d){var c=v.value,T=e.onSelect,w=e.multiple,D=d.selected,S=d[H.value.key],P=!D;P?w?c=Ce(c,S):c=[S]:c=me(c,S);var M=x.value,G=c.map(function(W){var V=M[W];return V?V.node:null}).filter(function(W){return W});e.selectedKeys===void 0&&(v.value=c),T&&T(c,{event:"select",selected:P,node:d,selectedNodes:G,nativeEvent:i})},je=function(i,d,c){var T=e.checkStrictly,w=e.onCheck,D=d[H.value.key],S,P={event:"check",node:d,checked:c,nativeEvent:i},M=x.value;if(T){var G=c?Ce(N.value,D):me(N.value,D),W=me(k.value,D);S={checked:G,halfChecked:W},P.checkedNodes=G.map(function(U){return M[U]}).filter(function(U){return U}).map(function(U){return U.node}),e.checkedKeys===void 0&&(N.value=G)}else{var V=un([].concat(Te(N.value),[D]),!0,M,ye.value,ve.value),z=V.checkedKeys,Z=V.halfCheckedKeys;if(!c){var ce=new Set(z);ce.delete(D);var le=un(Array.from(ce),{checked:!1,halfCheckedKeys:Z},M,ye.value,ve.value);z=le.checkedKeys,Z=le.halfCheckedKeys}S=z,P.checkedNodes=[],P.checkedNodesPositions=[],P.halfCheckedKeys=Z,z.forEach(function(U){var he=M[U];if(he){var ge=he.node,be=he.pos;P.checkedNodes.push(ge),P.checkedNodesPositions.push({node:ge,pos:be})}}),e.checkedKeys===void 0&&(N.value=z,k.value=Z)}w&&w(S,P)},$e=function(i){var d=i[H.value.key],c=new Promise(function(T,w){var D=e.loadData,S=e.onLoad;if(!D||ae.value.has(d)||re.value.has(d))return null;var P=D(i);P.then(function(){var M=Ce(y.value,d),G=me(C.value,d);S&&S(M,{event:"load",node:i}),e.loadedKeys===void 0&&(y.value=M),C.value=G,T()}).catch(function(M){var G=me(C.value,d);if(C.value=G,E[d]=(E[d]||0)+1,E[d]>=qa){var W=Ce(y.value,d);e.loadedKeys===void 0&&(y.value=W),T()}w(M)}),C.value=Ce(C.value,d)});return c.catch(function(){}),c},en=function(i,d){var c=e.onMouseenter;c&&c({event:i,node:d})},nn=function(i,d){var c=e.onMouseleave;c&&c({event:i,node:d})},an=function(i,d){var c=e.onRightClick;c&&(i.preventDefault(),c({event:i,node:d}))},Ge=function(i){var d=e.onFocus;O.value=!0,d&&d(i)},tn=function(i){var d=e.onBlur;O.value=!1,ke(null),d&&d(i)},we=function(i,d){var c=m.value,T=e.onExpand,w=e.loadData,D=d.expanded,S=d[H.value.key];if(!B.value){c.indexOf(S);var P=!D;if(P?c=Ce(c,S):c=me(c,S),Ke(c),T&&T(c,{node:d,expanded:P,nativeEvent:i}),P&&w){var M=$e(d);M&&M.then(function(){}).catch(function(G){var W=me(m.value,S);Ke(W),Promise.reject(G)})}}},He=function(){B.value=!0},rn=function(){setTimeout(function(){B.value=!1})},ke=function(i){var d=e.onActiveChange;_.value!==i&&(e.activeKey!==void 0&&(_.value=i),i!==null&&se({key:i}),d&&d(i))},K=F(function(){return _.value===null?null:q.value.find(function(h){var i=h.key;return i===_.value})||null}),a=function(i){var d=q.value.findIndex(function(w){var D=w.key;return D===_.value});d===-1&&i<0&&(d=q.value.length),d=(d+i+q.value.length)%q.value.length;var c=q.value[d];if(c){var T=c.key;ke(T)}else ke(null)},s=F(function(){return vn(L(L({},cn(_.value,de.value)),{},{data:K.value.data,active:!0}))}),A=function(i){var d=e.onKeydown,c=e.checkable,T=e.selectable;switch(i.which){case Oe.UP:{a(-1),i.preventDefault();break}case Oe.DOWN:{a(1),i.preventDefault();break}}var w=K.value;if(w&&w.data){var D=w.data.isLeaf===!1||!!(w.data.children||[]).length,S=s.value;switch(i.which){case Oe.LEFT:{D&&Y.value.has(_.value)?we({},S):w.parent&&ke(w.parent.key),i.preventDefault();break}case Oe.RIGHT:{D&&!Y.value.has(_.value)?we({},S):w.children&&w.children.length&&ke(w.children[0].key),i.preventDefault();break}case Oe.ENTER:case Oe.SPACE:{c&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?je({},S,!oe.value.has(_.value)):!c&&T&&!S.disabled&&S.selectable!==!1&&_e({},S);break}}}d&&d(i)};return g({onNodeExpand:we,scrollTo:se,onKeydown:A,selectedKeys:F(function(){return v.value}),checkedKeys:F(function(){return N.value}),halfCheckedKeys:F(function(){return k.value}),loadedKeys:F(function(){return y.value}),loadingKeys:F(function(){return C.value}),expandedKeys:F(function(){return m.value})}),sa(function(){window.removeEventListener("dragend",Re),f.value=!0}),ma({expandedKeys:m,selectedKeys:v,loadedKeys:y,loadingKeys:C,checkedKeys:N,halfCheckedKeys:k,expandedKeysSet:Y,selectedKeysSet:te,loadedKeysSet:ae,loadingKeysSet:re,checkedKeysSet:oe,halfCheckedKeysSet:fe,flattenNodes:q}),function(){var h,i=o.draggingNodeKey,d=o.dropLevelOffset,c=o.dropContainerKey,T=o.dropTargetKey,w=o.dropPosition,D=o.dragOverNodeKey,S=e.prefixCls,P=e.showLine,M=e.focusable,G=e.tabindex,W=G===void 0?0:G,V=e.selectable,z=e.showIcon,Z=e.icon,ce=Z===void 0?l.icon:Z,le=e.switcherIcon,U=e.draggable,he=e.checkable,ge=e.checkStrictly,be=e.disabled,We=e.motion,on=e.loadData,Gn=e.filterTreeNode,Hn=e.height,Wn=e.itemHeight,Vn=e.virtual,Yn=e.dropIndicatorRender,Un=e.onContextmenu,Xn=e.onScroll,qn=e.direction,zn=u.class,Jn=u.style,Qn=An(L(L({},e),u),{aria:!0,data:!0}),Ve;return U&&(Ie(U)==="object"?Ve=U:typeof U=="function"?Ve={nodeDraggable:U}:Ve={}),R(ba,{value:{prefixCls:S,selectable:V,showIcon:z,icon:ce,switcherIcon:le,draggable:Ve,draggingNodeKey:i,checkable:he,customCheckable:l.checkable,checkStrictly:ge,disabled:be,keyEntities:x.value,dropLevelOffset:d,dropContainerKey:c,dropTargetKey:T,dropPosition:w,dragOverNodeKey:D,dragging:i!==null,indent:p.value,direction:qn,dropIndicatorRender:Yn,loadData:on,filterTreeNode:Gn,onNodeClick:Qe,onNodeDoubleClick:Ze,onNodeExpand:we,onNodeSelect:_e,onNodeCheck:je,onNodeLoad:$e,onNodeMouseEnter:en,onNodeMouseLeave:nn,onNodeContextMenu:an,onNodeDragStart:Ue,onNodeDragEnter:Xe,onNodeDragOver:qe,onNodeDragLeave:ze,onNodeDragEnd:Le,onNodeDrop:Je,slots:l}},{default:function(){return[R("div",{role:"tree",class:xe(S,zn,(h={},X(h,"".concat(S,"-show-line"),P),X(h,"".concat(S,"-focused"),O.value),X(h,"".concat(S,"-active-focused"),_.value!==null),h))},[R(Ua,L({ref:ne,prefixCls:S,style:Jn,disabled:be,selectable:V,checkable:!!he,motion:We,height:Hn,itemHeight:Wn,virtual:Vn,focusable:M,focused:O.value,tabindex:W,activeItem:K.value,onFocus:Ge,onBlur:tn,onKeydown:A,onActiveChange:ke,onListChangeStart:He,onListChangeEnd:rn,onContextmenu:Un,onScroll:Xn},Qn),null)])]}})}}});function it(n,e,r,u){var l=u.isLeaf,g=u.expanded,f=u.loading,t=e;if(f)return R(ra,{class:"".concat(n,"-switcher-loading-icon")},null);var p;r&&Ie(r)==="object"&&(p=r.showLeafIcon);var v=null,N="".concat(n,"-switcher-icon");return l?(r&&(Ie(r)==="object"&&!p?v=R("span",{class:"".concat(n,"-switcher-leaf-line")},null):v=R(ha,{class:"".concat(n,"-switcher-line-icon")},null)),v):(v=R(ga,{class:N},null),r&&(v=g?R(pa,{class:"".concat(n,"-switcher-line-icon")},null):R(Ka,{class:"".concat(n,"-switcher-line-icon")},null)),typeof e=="function"?t=e(L(L({},u),{},{defaultIcon:v,switcherCls:N})):oa(t)&&(t=fa(t,{class:N})),t||v)}export{lt as T,Kn as V,un as a,me as b,Fa as c,Ce as d,Ia as e,hn as f,mn as g,Rn as h,it as r,Na as t,ja as u};
