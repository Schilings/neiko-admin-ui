import{F as P,H as j,Q as g,j as $,a as l,_ as C,L as z,J as b,P as t}from"./useConfigInject-4e7e38f3.js";import{K as S}from"./KeyCode-e7009ae3.js";import{W as U}from"./wave-9bd9da2d.js";import{u as A}from"./FormItemContext-d1513cce.js";import{o as D}from"./styleChecker-cd40cf0f.js";import{d as E,a4 as H,R as p,K as x,N as L,O as W,_ as R,a as r}from"./runtime-core.esm-bundler-e620233b.js";var G=j("small","default"),J=function(){return{id:String,prefixCls:String,size:t.oneOf(G),disabled:{type:Boolean,default:void 0},checkedChildren:t.any,unCheckedChildren:t.any,tabindex:t.oneOfType([t.string,t.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:t.oneOfType([t.string,t.number,t.looseBool]),checkedValue:t.oneOfType([t.string,t.number,t.looseBool]).def(!0),unCheckedValue:t.oneOfType([t.string,t.number,t.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},Q=E({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:J(),slots:["checkedChildren","unCheckedChildren"],setup:function(n,s){var d=s.attrs,m=s.slots,B=s.expose,u=s.emit,y=A();H(function(){g(!("defaultChecked"in d),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),g(!("value"in d),"Switch","`value` is not validate prop, do you mean `checked`?")});var h=p(n.checked!==void 0?n.checked:d.defaultChecked),f=x(function(){return h.value===n.checkedValue});L(function(){return n.checked},function(){h.value=n.checked});var v=$("switch",n),c=v.prefixCls,_=v.direction,T=v.size,i=p(),w=function(){var e;(e=i.value)===null||e===void 0||e.focus()},V=function(){var e;(e=i.value)===null||e===void 0||e.blur()};B({focus:w,blur:V}),W(function(){R(function(){n.autofocus&&!n.disabled&&i.value.focus()})});var k=function(e,o){n.disabled||(u("update:checked",e),u("change",e,o),y.onFieldChange())},N=function(e){u("blur",e)},I=function(e){w();var o=f.value?n.unCheckedValue:n.checkedValue;k(o,e),u("click",o,e)},O=function(e){e.keyCode===S.LEFT?k(n.unCheckedValue,e):e.keyCode===S.RIGHT&&k(n.checkedValue,e),u("keydown",e)},K=function(e){var o;(o=i.value)===null||o===void 0||o.blur(),u("mouseup",e)},M=x(function(){var a;return a={},l(a,"".concat(c.value,"-small"),T.value==="small"),l(a,"".concat(c.value,"-loading"),n.loading),l(a,"".concat(c.value,"-checked"),f.value),l(a,"".concat(c.value,"-disabled"),n.disabled),l(a,c.value,!0),l(a,"".concat(c.value,"-rtl"),_.value==="rtl"),a});return function(){var a;return r(U,{insertExtraNode:!0},{default:function(){return[r("button",C(C(C({},D(n,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),d),{},{id:(a=n.id)!==null&&a!==void 0?a:y.id.value,onKeydown:O,onClick:I,onBlur:N,onMouseup:K,type:"button",role:"switch","aria-checked":h.value,disabled:n.disabled||n.loading,class:[d.class,M.value],ref:i}),[r("div",{class:"".concat(c.value,"-handle")},[n.loading?r(z,{class:"".concat(c.value,"-loading-icon")},null):null]),r("span",{class:"".concat(c.value,"-inner")},[f.value?b(m,n,"checkedChildren"):b(m,n,"unCheckedChildren")])])]}})}}});const ae=P(Q);export{ae as S};
