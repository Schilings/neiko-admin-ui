import{W as Q,R as I,M as se,J as ie,$ as le,a3 as fe,u as ee,Y as ce,Z as pe,K as te,N,x as de,a2 as ve}from"./runtime-core.esm-bundler-e620233b.js";var R;const $=typeof window<"u",me=e=>typeof e<"u",M=e=>typeof e=="function",Oe=e=>typeof e=="string",_e=()=>{};$&&((R=window==null?void 0:window.navigator)!=null&&R.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function E(e){return typeof e=="function"?e():ee(e)}function re(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const ne=e=>e();function ye(e,t={}){let r,n;return a=>{const i=E(e),f=E(t.maxWait);if(r&&clearTimeout(r),i<=0||f!==void 0&&f<=0)return n&&(clearTimeout(n),n=null),a();f&&!n&&(n=setTimeout(()=>{r&&clearTimeout(r),n=null,a()},f)),r=setTimeout(()=>{n&&clearTimeout(n),n=null,a()},i)}}function ge(e=ne){const t=I(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...a)=>{t.value&&e(...a)}}}function we(e){return e}function C(e){return ce()?(pe(e),!0):!1}function nt(e){const t=Symbol("InjectionState");return[(...o)=>{se(t,e(...o))},()=>ie(t)]}function at(e,t=200,r={}){return re(ye(t,r),e)}function Se(e){return typeof e=="function"?te(e):I(e)}var Pe=Object.defineProperty,be=Object.defineProperties,he=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,z=(e,t,r)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))Ie.call(t,r)&&z(e,r,t[r]);if(G)for(var r of G(t))$e.call(t,r)&&z(e,r,t[r]);return e},Ne=(e,t)=>be(e,he(t));function ot(e){if(!Q(e))return le(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const r in e.value)t[r]=fe(()=>({get(){return e.value[r]},set(n){if(Array.isArray(e.value)){const o=[...e.value];o[r]=n,e.value=o}else{const o=Ne(Ee({},e.value),{[r]:n});Object.setPrototypeOf(o,e.value),e.value=o}}}));return t}function Te(e,t=1e3,r={}){const{immediate:n=!0,immediateCallback:o=!1}=r;let a=null;const i=I(!1);function f(){a&&(clearInterval(a),a=null)}function m(){i.value=!1,f()}function d(){ee(t)<=0||(i.value=!0,o&&e(),f(),a=setInterval(e,E(t)))}if(n&&$&&d(),Q(t)||M(t)){const l=N(t,()=>{i.value&&$&&d()});C(l)}return C(m),{isActive:i,pause:m,resume:d}}function ut(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,o=Q(e),a=I(e);function i(f){if(arguments.length)return a.value=f,a.value;{const m=E(r);return a.value=a.value===m?E(n):m,a.value}}return o?i:[a,i]}var B=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,je=(e,t)=>{var r={};for(var n in e)Ae.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&B)for(var n of B(e))t.indexOf(n)<0&&Fe.call(e,n)&&(r[n]=e[n]);return r};function Ce(e,t,r={}){const n=r,{eventFilter:o=ne}=n,a=je(n,["eventFilter"]);return N(e,re(o,t),a)}var De=Object.defineProperty,xe=Object.defineProperties,We=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,H=(e,t,r)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ve=(e,t)=>{for(var r in t||(t={}))ae.call(t,r)&&H(e,r,t[r]);if(D)for(var r of D(t))oe.call(t,r)&&H(e,r,t[r]);return e},Je=(e,t)=>xe(e,We(t)),Le=(e,t)=>{var r={};for(var n in e)ae.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&D)for(var n of D(e))t.indexOf(n)<0&&oe.call(e,n)&&(r[n]=e[n]);return r};function Qe(e,t,r={}){const n=r,{eventFilter:o}=n,a=Le(n,["eventFilter"]),{eventFilter:i,pause:f,resume:m,isActive:d}=ge(o);return{stop:Ce(e,t,Je(Ve({},a),{eventFilter:i})),pause:f,resume:m,isActive:d}}function Me(e){var t;const r=E(e);return(t=r==null?void 0:r.$el)!=null?t:r}const x=$?window:void 0;$&&window.document;$&&window.navigator;$&&window.location;function ue(...e){let t,r,n,o;if(Oe(e[0])||Array.isArray(e[0])?([r,n,o]=e,t=x):[t,r,n,o]=e,!t)return _e;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],i=()=>{a.forEach(l=>l()),a.length=0},f=(l,c,p)=>(l.addEventListener(c,p,o),()=>l.removeEventListener(c,p,o)),m=N(()=>Me(t),l=>{i(),l&&a.push(...r.flatMap(c=>n.map(p=>f(l,c,p))))},{immediate:!0,flush:"post"}),d=()=>{m(),i()};return C(d),d}function Re(e){return JSON.parse(JSON.stringify(e))}const J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__vueuse_ssr_handlers__";J[L]=J[L]||{};const Ge=J[L];function ze(e,t){return Ge[e]||t}function Be(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var He=Object.defineProperty,U=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))Ue.call(t,r)&&K(e,r,t[r]);if(U)for(var r of U(t))Ke.call(t,r)&&K(e,r,t[r]);return e};const Ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Ze(e,t,r,n={}){var o;const{flush:a="pre",deep:i=!0,listenToStorageChanges:f=!0,writeDefaults:m=!0,mergeDefaults:d=!1,shallow:l,window:c=x,eventFilter:p,onError:S=u=>{console.error(u)}}=n,O=(l?ve:I)(t);if(!r)try{r=ze("getDefaultStorage",()=>{var u;return(u=x)==null?void 0:u.localStorage})()}catch(u){S(u)}if(!r)return O;const _=E(t),b=Be(_),v=(o=n.serializer)!=null?o:Ye[b],{pause:P,resume:g}=Qe(O,()=>A(O.value),{flush:a,deep:i,eventFilter:p});return c&&f&&ue(c,"storage",T),T(),O;function A(u){try{u==null?r.removeItem(e):r.setItem(e,v.write(u))}catch(w){S(w)}}function W(u){P();try{const w=u?u.newValue:r.getItem(e);if(w==null)return m&&_!==null&&r.setItem(e,v.write(_)),_;if(!u&&d){const s=v.read(w);return M(d)?d(s,_):b==="object"&&!Array.isArray(s)?Y(Y({},_),s):s}else return typeof w!="string"?w:v.read(w)}catch(w){S(w)}finally{g()}}function T(u){if(!(u&&u.storageArea!==r)){if(u&&u.key===null){O.value=_;return}u&&u.key!==e||(O.value=W(u))}}}function st(e,t,r={}){const{window:n=x}=r;return Ze(e,t,n==null?void 0:n.localStorage,r)}var Z;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Z||(Z={}));var qe=Object.defineProperty,q=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,X=(e,t,r)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,et=(e,t)=>{for(var r in t||(t={}))Xe.call(t,r)&&X(e,r,t[r]);if(q)for(var r of q(t))ke.call(t,r)&&X(e,r,t[r]);return e};const tt={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};et({linear:we},tt);function it(e,t,r,n={}){var o,a,i;const{clone:f=!1,passive:m=!1,eventName:d,deep:l=!1,defaultValue:c}=n,p=de(),S=r||(p==null?void 0:p.emit)||((o=p==null?void 0:p.$emit)==null?void 0:o.bind(p))||((i=(a=p==null?void 0:p.proxy)==null?void 0:a.$emit)==null?void 0:i.bind(p==null?void 0:p.proxy));let O=d;t||(t="modelValue"),O=d||O||`update:${t.toString()}`;const _=v=>f?M(f)?f(v):Re(v):v,b=()=>me(e[t])?_(e[t]):c;if(m){const v=b(),P=I(v);return N(()=>e[t],g=>P.value=_(g)),N(P,g=>{(g!==e[t]||l)&&S(O,g)},{deep:l}),P}else return te({get(){return b()},set(v){S(O,v)}})}const k="ping";function V(e){return e===!0?{}:e}function lt(e,t={}){const{onConnected:r,onDisconnected:n,onError:o,onMessage:a,immediate:i=!0,autoClose:f=!0,protocols:m=[]}=t,d=I(null),l=I("CLOSED"),c=I(),p=Se(e);let S,O,_=!1,b=0,v=[],P;const g=(s=1e3,y)=>{c.value&&(_=!0,S==null||S(),c.value.close(s,y))},A=()=>{if(v.length&&c.value&&l.value==="OPEN"){for(const s of v)c.value.send(s);v=[]}},W=()=>{clearTimeout(P),P=void 0},T=(s,y=!0)=>!c.value||l.value!=="OPEN"?(y&&v.push(s),!1):(A(),c.value.send(s),!0),u=()=>{if(_)return;const s=new WebSocket(p.value,m);c.value=s,l.value="CONNECTING",s.onopen=()=>{l.value="OPEN",r==null||r(s),O==null||O(),A()},s.onclose=y=>{if(l.value="CLOSED",c.value=void 0,n==null||n(s,y),!_&&t.autoReconnect){const{retries:h=-1,delay:F=1e3,onFailed:j}=V(t.autoReconnect);b+=1,typeof h=="number"&&(h<0||b<h)||typeof h=="function"&&h()?setTimeout(u,F):j==null||j()}},s.onerror=y=>{o==null||o(s,y)},s.onmessage=y=>{if(t.heartbeat){W();const{message:h=k}=V(t.heartbeat);if(y.data===h)return}d.value=y.data,a==null||a(s,y)}};if(t.heartbeat){const{message:s=k,interval:y=1e3,pongTimeout:h=1e3}=V(t.heartbeat),{pause:F,resume:j}=Te(()=>{T(s,!1),P==null&&(P=setTimeout(()=>{g()},h))},y,{immediate:!1});S=F,O=j}f&&(ue(window,"beforeunload",()=>g()),C(g));const w=()=>{g(),_=!1,b=0,u()};return i&&N(p,w,{immediate:!0}),{data:d,status:l,close:g,send:T,open:w,ws:c}}export{Ye as S,ut as a,at as b,nt as c,it as d,Ze as e,lt as f,M as i,ot as t,st as u};
