import{_ as r,h as k,j as J,k as q,G as nt,P as A,a as g,J as lt,w as rt,e as ot,g as ut,T as st,v as ct}from"./useConfigInject-4e7e38f3.js";import{c as F}from"./vnode-695e877b.js";import{d as M,K as x,L as it,R as O,N as Q,P as vt,a as f,a1 as ft}from"./runtime-core.esm-bundler-e620233b.js";import{P as dt}from"./index-78dc20df.js";import{i as mt}from"./isNumeric-3f69e2aa.js";function Y(u){var t=u.prefixCls,s=u.value,l=u.current,a=u.offset,b=a===void 0?0:a,e;return b&&(e={position:"absolute",top:"".concat(b,"00%"),left:0}),f("p",{style:e,class:k("".concat(t,"-only-unit"),{current:l})},[s])}function yt(u,t,s){for(var l=u,a=0;(l+10)%10!==t;)l+=s,a+=s;return a}const gt=M({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(t){var s=x(function(){return Number(t.value)}),l=x(function(){return Math.abs(t.count)}),a=it({prevValue:s.value,prevCount:l.value}),b=function(){a.prevValue=s.value,a.prevCount=l.value},e=O();return Q(s,function(){clearTimeout(e.value),e.value=setTimeout(function(){b()},1e3)},{flush:"post"}),vt(function(){clearTimeout(e.value)}),function(){var d,o={},c=s.value;if(a.prevValue===c||Number.isNaN(c)||Number.isNaN(a.prevValue))d=[Y(r(r({},t),{},{current:!0}))],o={transition:"none"};else{d=[];for(var v=c+10,i=[],m=c;m<=v;m+=1)i.push(m);var N=i.findIndex(function(y){return y%10===a.prevValue});d=i.map(function(y,C){var P=y%10;return Y(r(r({},t),{},{value:P,offset:C-N,current:C===N}))});var p=a.prevCount<l.value?1:-1;o={transform:"translateY(".concat(-yt(a.prevValue,c,p),"00%)")}}return f("span",{class:"".concat(t.prefixCls,"-only"),style:o,onTransitionend:function(){return b()}},[d])}}});var bt=["prefixCls","count","title","show","component","class","style"],Ct={prefixCls:String,count:A.any,component:String,title:A.any,show:Boolean};const xt=M({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:Ct,setup:function(t,s){var l=s.attrs,a=s.slots,b=J("scroll-number",t),e=b.prefixCls;return function(){var d,o=r(r({},t),l);o.prefixCls;var c=o.count,v=o.title;o.show;var i=o.component,m=i===void 0?"sup":i,N=o.class,p=o.style,y=q(o,bt),C=r(r({},y),{},{style:p,"data-show":t.show,class:k(e.value,N),title:v}),P=c;if(c&&Number(c)%1===0){var D=String(c).split("");P=D.map(function(n,$){return f(gt,{prefixCls:e.value,count:Number(c),value:n,key:D.length-$},null)})}p&&p.borderColor&&(C.style=r(r({},p),{},{boxShadow:"0 0 0 1px ".concat(p.borderColor," inset")}));var T=nt((d=a.default)===null||d===void 0?void 0:d.call(a));return T&&T.length?F(T,{class:k("".concat(e.value,"-custom-component"))},!1):f(m,C,{default:function(){return[P]}})}}});function E(u){return dt.indexOf(u)!==-1}var pt=["class","style"],Nt=function(){return{prefix:String,color:{type:String},text:A.any,placement:{type:String,default:"end"}}};const H=M({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:Nt(),slots:["text"],setup:function(t,s){var l=s.attrs,a=s.slots,b=J("ribbon",t),e=b.prefixCls,d=b.direction,o=x(function(){return E(t.color)}),c=x(function(){var v;return[e.value,"".concat(e.value,"-placement-").concat(t.placement),(v={},g(v,"".concat(e.value,"-rtl"),d.value==="rtl"),g(v,"".concat(e.value,"-color-").concat(t.color),o.value),v)]});return function(){var v,i,m=l.class,N=l.style,p=q(l,pt),y={},C={};return t.color&&!o.value&&(y.background=t.color,C.color=t.color),f("div",r({class:"".concat(e.value,"-wrapper")},p),[(v=a.default)===null||v===void 0?void 0:v.call(a),f("div",{class:[c.value,m],style:r(r({},y),N)},[f("span",{class:"".concat(e.value,"-text")},[t.text||((i=a.text)===null||i===void 0?void 0:i.call(a))]),f("div",{class:"".concat(e.value,"-corner"),style:C},null)])])}}});var St=function(){return{count:A.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:A.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}};const G=M({compatConfig:{MODE:3},name:"ABadge",Ribbon:H,inheritAttrs:!1,props:St(),slots:["text","count"],setup:function(t,s){var l=s.slots,a=s.attrs,b=J("badge",t),e=b.prefixCls,d=b.direction,o=x(function(){return t.count>t.overflowCount?"".concat(t.overflowCount,"+"):t.count}),c=x(function(){return t.status!==null&&t.status!==void 0||t.color!==null&&t.color!==void 0}),v=x(function(){return o.value==="0"||o.value===0}),i=x(function(){return t.dot&&!v.value}),m=x(function(){return i.value?"":o.value}),N=x(function(){var n=m.value===null||m.value===void 0||m.value==="";return(n||v.value&&!t.showZero)&&!i.value}),p=O(t.count),y=O(m.value),C=O(i.value);Q([function(){return t.count},m,i],function(){N.value||(p.value=t.count,y.value=m.value,C.value=i.value)},{immediate:!0});var P=x(function(){var n;return n={},g(n,"".concat(e.value,"-status-dot"),c.value),g(n,"".concat(e.value,"-status-").concat(t.status),!!t.status),g(n,"".concat(e.value,"-status-").concat(t.color),E(t.color)),n}),D=x(function(){return t.color&&!E(t.color)?{background:t.color}:{}}),T=x(function(){var n;return n={},g(n,"".concat(e.value,"-dot"),C.value),g(n,"".concat(e.value,"-count"),!C.value),g(n,"".concat(e.value,"-count-sm"),t.size==="small"),g(n,"".concat(e.value,"-multiple-words"),!C.value&&y.value&&y.value.toString().length>1),g(n,"".concat(e.value,"-status-").concat(t.status),!!t.status),g(n,"".concat(e.value,"-status-").concat(t.color),E(t.color)),n});return function(){var n,$,j,_=t.offset,R=t.title,z=t.color,K=a.style,U=lt(l,t,"text"),h=e.value,S=p.value,w=rt((n=l.default)===null||n===void 0?void 0:n.call(l));w=w.length?w:null;var Z=!!(!N.value||l.count),V=function(){if(!_)return r({},K);var I={marginTop:mt(_[1])?"".concat(_[1],"px"):_[1]};return d.value==="rtl"?I.left="".concat(parseInt(_[0],10),"px"):I.right="".concat(-parseInt(_[0],10),"px"),r(r({},I),K)}(),X=R??(typeof S=="string"||typeof S=="number"?S:void 0),L=Z||!U?null:f("span",{class:"".concat(h,"-status-text")},[U]),tt=ot(S)==="object"||S===void 0&&l.count?F(S??(($=l.count)===null||$===void 0?void 0:$.call(l)),{style:V},!1):null,W=k(h,(j={},g(j,"".concat(h,"-status"),c.value),g(j,"".concat(h,"-not-a-wrapper"),!w),g(j,"".concat(h,"-rtl"),d.value==="rtl"),j),a.class);if(!w&&c.value){var et=V.color;return f("span",r(r({},a),{},{class:W,style:V}),[f("span",{class:P.value,style:D.value},null),f("span",{style:{color:et},class:"".concat(h,"-status-text")},[U])])}var at=ut(w?"".concat(h,"-zoom"):"",{appear:!1}),B=r(r({},V),t.numberStyle);return z&&!E(z)&&(B=B||{},B.background=z),f("span",r(r({},a),{},{class:W}),[w,f(st,at,{default:function(){return[ft(f(xt,{prefixCls:t.scrollNumberPrefixCls,show:Z,class:T.value,count:y.value,title:X,style:B,key:"scrollNumber"},{default:function(){return[tt]}}),[[ct,Z]])]}}),L])}}});G.install=function(u){return u.component(G.name,G),u.component(H.name,H),u};export{G as B};
