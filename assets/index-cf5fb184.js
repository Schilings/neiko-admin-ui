import{P as Z,L as D,T as ee,i as te,j as ne,w as ae,_ as v,a as i,e as oe,x as le}from"./useConfigInject-4e7e38f3.js";import{W as ie}from"./wave-9bd9da2d.js";import{d as V,a as u,_ as re,R as x,K as P,N as ue,S as se,O as ce,l as fe,a0 as de,T as ve}from"./runtime-core.esm-bundler-e620233b.js";function Ce(o){return o==="danger"?{danger:!0}:{type:o}}var ge=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:Z.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}};const ye=ge;var R=function(e){e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},$=function(e){re(function(){e&&(e.style.width="".concat(e.scrollWidth,"px"),e.style.opacity="1",e.style.transform="scale(1)")})},U=function(e){e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)};const pe=V({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(e){return function(){var g=e.existIcon,c=e.prefixCls,h=e.loading;if(g)return u("span",{class:"".concat(c,"-loading-icon")},[u(D,null,null)]);var B=!!h;return u(ee,{name:"".concat(c,"-loading-icon-motion"),onBeforeEnter:R,onEnter:$,onAfterEnter:U,onBeforeLeave:$,onLeave:function(y){setTimeout(function(){R(y)})},onAfterLeave:U},{default:function(){return[B?u("span",{class:"".concat(c,"-loading-icon")},[u(D,null,null)]):null]}})}}});var F=/^[\u4e00-\u9fa5]{2}$/,K=F.test.bind(F);function S(o){return o==="text"||o==="link"}const Te=V({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:te(ye(),{type:"default"}),slots:["icon"],setup:function(e,g){var c=g.slots,h=g.attrs,B=g.emit,d=ne("btn",e),y=d.prefixCls,j=d.autoInsertSpaceInButton,q=d.direction,G=d.size,w=x(null),m=x(void 0),_=!1,f=x(!1),p=x(!1),M=P(function(){return j.value!==!1}),k=P(function(){return oe(e.loading)==="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading});ue(k,function(t){clearTimeout(m.value),typeof k.value=="number"?m.value=setTimeout(function(){f.value=t},k.value):f.value=t},{immediate:!0});var H=P(function(){var t,n=e.type,s=e.shape,l=s===void 0?"default":s,r=e.ghost,I=e.block,N=e.danger,a=y.value,b={large:"lg",small:"sm",middle:void 0},C=G.value,T=C&&b[C]||"";return t={},i(t,"".concat(a),!0),i(t,"".concat(a,"-").concat(n),n),i(t,"".concat(a,"-").concat(l),l!=="default"&&l),i(t,"".concat(a,"-").concat(T),T),i(t,"".concat(a,"-loading"),f.value),i(t,"".concat(a,"-background-ghost"),r&&!S(n)),i(t,"".concat(a,"-two-chinese-chars"),p.value&&M.value),i(t,"".concat(a,"-block"),I),i(t,"".concat(a,"-dangerous"),!!N),i(t,"".concat(a,"-rtl"),q.value==="rtl"),t}),O=function(){var n=w.value;if(!(!n||j.value===!1)){var s=n.textContent;_&&K(s)?p.value||(p.value=!0):p.value&&(p.value=!1)}},J=function(n){if(f.value||e.disabled){n.preventDefault();return}B("click",n)},Q=function(n,s){var l=s?" ":"";if(n.type===ve){var r=n.children.trim();return K(r)&&(r=r.split("").join(l)),u("span",null,[r])}return n};return se(function(){le(!(e.ghost&&S(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),ce(O),fe(O),de(function(){m.value&&clearTimeout(m.value)}),function(){var t,n,s=e.icon,l=s===void 0?(t=c.icon)===null||t===void 0?void 0:t.call(c):s,r=ae((n=c.default)===null||n===void 0?void 0:n.call(c));_=r.length===1&&!l&&!S(e.type);var I=e.type,N=e.htmlType,a=e.disabled,b=e.href,C=e.title,T=e.target,X=e.onMousedown,Y=f.value?"loading":l,L=v(v({},h),{},{title:C,disabled:a,class:[H.value,h.class,i({},"".concat(y.value,"-icon-only"),r.length===0&&!!Y)],onClick:J,onMousedown:X});a||delete L.disabled;var W=l&&!f.value?l:u(pe,{existIcon:!!l,prefixCls:y.value,loading:!!f.value},null),E=r.map(function(A){return Q(A,_&&M.value)});if(b!==void 0)return u("a",v(v({},L),{},{href:b,target:T,ref:w}),[W,E]);var z=u("button",v(v({},L),{},{ref:w,type:N}),[W,E]);return S(I)?z:u(ie,{ref:"wave",disabled:!!f.value},{default:function(){return[z]}})}}});export{Te as B,ye as b,Ce as c};
