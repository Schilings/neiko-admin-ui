import{_ as h,P as z,j as K,Q as L,w as Y,k as R,h as U,a as _,R as Z,b as ee}from"./useConfigInject-4e7e38f3.js";import{V as ae}from"./Checkbox-e087e583.js";import{u as D}from"./FormItemContext-d1513cce.js";import{d as H,J as ne,S as te,a0 as re,O as ue,R as M,a as w,N as T,K as F,M as le}from"./runtime-core.esm-bundler-e620233b.js";var oe=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},ie=function(){return h(h({},oe()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},ce=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:z.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},de=function(){return h(h({},ce()),{},{indeterminate:{type:Boolean,default:!1}})},J=Symbol("CheckboxGroupContext"),se=["indeterminate","skipGroup","id"],ve=["onMouseenter","onMouseleave","onInput","class","style"];const G=H({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:de(),setup:function(a,r){var s=r.emit,i=r.attrs,g=r.slots,x=r.expose,C=D(),c=K("checkbox",a),o=c.prefixCls,p=c.direction,u=ne(J,void 0),k=Symbol("checkboxUniId");te(function(){!a.skipGroup&&u&&u.registerValue(k,a.value)}),re(function(){u&&u.cancelValue(k)}),ue(function(){L(a.checked!==void 0||u||a.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var S=function(e){var t=e.target.checked;s("update:checked",t),s("change",e)},V=M(),O=function(){var e;(e=V.value)===null||e===void 0||e.focus()},P=function(){var e;(e=V.value)===null||e===void 0||e.blur()};return x({focus:O,blur:P}),function(){var b,e,t=Y((b=g.default)===null||b===void 0?void 0:b.call(g)),d=a.indeterminate,v=a.skipGroup,f=a.id,l=f===void 0?C.id.value:f,y=R(a,se),A=i.onMouseenter,j=i.onMouseleave;i.onInput;var I=i.class,Q=i.style,W=R(i,ve),m=h(h({},y),{},{id:l,prefixCls:o.value},W);u&&!v?(m.onChange=function(){for(var E=arguments.length,N=new Array(E),B=0;B<E;B++)N[B]=arguments[B];s.apply(void 0,["change"].concat(N)),u.toggleOption({label:t,value:a.value})},m.name=u.name.value,m.checked=u.mergedValue.value.indexOf(a.value)!==-1,m.disabled=a.disabled||u.disabled.value,m.indeterminate=d):m.onChange=S;var X=U((e={},_(e,"".concat(o.value,"-wrapper"),!0),_(e,"".concat(o.value,"-rtl"),p.value==="rtl"),_(e,"".concat(o.value,"-wrapper-checked"),m.checked),_(e,"".concat(o.value,"-wrapper-disabled"),m.disabled),e),I),q=U(_({},"".concat(o.value,"-indeterminate"),d));return w("label",{class:X,style:Q,onMouseenter:A,onMouseleave:j},[w(ae,h(h({},m),{},{class:q,ref:V}),null),t.length?w("span",null,[t]):null])}}});function fe(n,a){var r=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=Z(n))||a&&n&&typeof n.length=="number"){r&&(n=r);var s=0,i=function(){};return{s:i,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,x=!1,C;return{s:function(){r=r.call(n)},n:function(){var o=r.next();return g=o.done,o},e:function(o){x=!0,C=o},f:function(){try{!g&&r.return!=null&&r.return()}finally{if(x)throw C}}}}const $=H({compatConfig:{MODE:3},name:"ACheckboxGroup",props:ie(),setup:function(a,r){var s=r.slots,i=r.emit,g=r.expose,x=D(),C=K("checkbox",a),c=C.prefixCls,o=C.direction,p=M((a.value===void 0?a.defaultValue:a.value)||[]);T(function(){return a.value},function(){p.value=a.value||[]});var u=F(function(){return a.options.map(function(e){return typeof e=="string"||typeof e=="number"?{label:e,value:e}:e})}),k=M(Symbol()),S=M(new Map),V=function(t){S.value.delete(t),k.value=Symbol()},O=function(t,d){S.value.set(t,d),k.value=Symbol()},P=M(new Map);T(k,function(){var e=new Map,t=fe(S.value.values()),d;try{for(t.s();!(d=t.n()).done;){var v=d.value;e.set(v,!0)}}catch(f){t.e(f)}finally{t.f()}P.value=e});var b=function(t){var d=p.value.indexOf(t.value),v=ee(p.value);d===-1?v.push(t.value):v.splice(d,1),a.value===void 0&&(p.value=v);var f=v.filter(function(l){return P.value.has(l)}).sort(function(l,y){var A=u.value.findIndex(function(I){return I.value===l}),j=u.value.findIndex(function(I){return I.value===y});return A-j});i("update:value",f),i("change",f),x.onFieldChange()};return le(J,{cancelValue:V,registerValue:O,toggleOption:b,mergedValue:p,name:F(function(){return a.name}),disabled:F(function(){return a.disabled})}),g({mergedValue:p}),function(){var e,t=a.id,d=t===void 0?x.id.value:t,v=null,f="".concat(c.value,"-group");return u.value&&u.value.length>0&&(v=u.value.map(function(l){var y;return w(G,{prefixCls:c.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:a.disabled,indeterminate:l.indeterminate,value:l.value,checked:p.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(f,"-item")},{default:function(){return[l.label===void 0?(y=s.label)===null||y===void 0?void 0:y.call(s,l):l.label]}})})),w("div",{class:[f,_({},"".concat(f,"-rtl"),o.value==="rtl")],id:d},[v||((e=s.default)===null||e===void 0?void 0:e.call(s))])}}});G.Group=$;G.install=function(n){return n.component(G.name,G),n.component($.name,$),n};export{G as C};
