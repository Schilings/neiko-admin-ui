import{s as g,t as m}from"./useConfigInject-4e7e38f3.js";import{M as u}from"./index-d8cf9b9f.js";const l=r=>r.code===200;function S(r,s){const e=Object.assign({checkSuccess:l,successMessage:!1,failMessage:!0,errorMessage:!0},s);r.then(c=>{var a,o;e.checkSuccess(c)?(f(e,c),(a=e.onSuccess)==null||a.call(e,c)):(i(e,c),(o=e.onFail)==null||o.call(e,c))}).catch(c=>{var a;d(e,c),(a=e.onError)==null||a.call(e,c)}).finally(()=>{var c;(c=e.onFinally)==null||c.call(e)})}function t(r,s,e){if(s===!1)return;let c,a;typeof s=="string"?c=s:typeof s=="object"?(c=s.message||e,a=s.mode):c=e,n({type:r,message:c,mode:a})}function n(r){const s=r.type,e=r.message;r.mode=="notification"?g[s]({message:e}):r.mode=="modal"?u[s]({content:e}):m[s](e)}function f(r,s){t("success",r.successMessage,s.message)}function i(r,s){t("warning",r.failMessage,s.message)}function d(r,s){if(r.errorMessage&&!s.resolved){const e=s.response,c=e==null?void 0:e.data,a=(c==null?void 0:c.message)||s.message||"error request";t("error",r.errorMessage,a)}}export{S as d};
